(function(a){if(typeof exports=="object"&&typeof module=="object"){module.exports=a()}else{if(typeof define=="function"&&define.amd){return define([],a)}else{this.CodeMirror=a()}}})(function(){var cn=/gecko\/\d/i.test(navigator.userAgent);var ex=/MSIE \d/.test(navigator.userAgent);var bH=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);var dy=ex||bH;var l=dy&&(ex?document.documentMode||6:bH[1]);var cU=/WebKit\//.test(navigator.userAgent);var dA=cU&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var c6=/Chrome\//.test(navigator.userAgent);var dP=/Opera\//.test(navigator.userAgent);var aB=/Apple Computer/.test(navigator.vendor);var a7=/KHTML\//.test(navigator.userAgent);var c1=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var fh=/PhantomJS/.test(navigator.userAgent);var eO=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var d2=eO||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var b5=eO||/Mac/.test(navigator.platform);var aM=/win/i.test(navigator.platform);var aU=dP&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(aU){aU=Number(aU[1])}if(aU&&aU>=15){dP=false;cU=true}var bO=b5&&(dA||dP&&(aU==null||aU<12.11));var fR=cn||(dy&&l>=9);var fU=false,a3=false;function J(f1,f2){if(!(this instanceof J)){return new J(f1,f2)}this.options=f2=f2||{};aK(eQ,f2,false);cc(f2);var f4=f2.value;if(typeof f4=="string"){f4=new ar(f4,f2.mode)}this.doc=f4;var f3=this.display=new ev(f1,f4);f3.wrapper.CodeMirror=this;dY(this);cK(this);if(f2.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}if(f2.autofocus&&!d2){em(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new fZ()};if(dy&&l<11){setTimeout(ct(fb,this,true),20)}fC(this);be();var f0=this;cI(this,function(){f0.curOp.forceUpdate=true;dX(f0,f4);if((f2.autofocus&&!d2)||dB()==f3.input){setTimeout(ct(cy,f0),20)}else{aR(f0)}for(var f6 in ba){if(ba.hasOwnProperty(f6)){ba[f6](f0,f2[f6],ca)}}dS(f0);for(var f5=0;f5<a4.length;++f5){a4[f5](f0)}})}function ev(f0,f2){var f3=this;var f1=f3.input=fJ("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");if(cU){f1.style.width="1000px"}else{f1.setAttribute("wrap","off")}if(eO){f1.style.border="1px solid black"}f1.setAttribute("autocorrect","off");f1.setAttribute("autocapitalize","off");f1.setAttribute("spellcheck","false");f3.inputDiv=fJ("div",[f1],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");f3.scrollbarH=fJ("div",[fJ("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f3.scrollbarV=fJ("div",[fJ("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");f3.scrollbarFiller=fJ("div",null,"CodeMirror-scrollbar-filler");f3.gutterFiller=fJ("div",null,"CodeMirror-gutter-filler");f3.lineDiv=fJ("div",null,"CodeMirror-code");f3.selectionDiv=fJ("div",null,null,"position: relative; z-index: 1");f3.cursorDiv=fJ("div",null,"CodeMirror-cursors");f3.measure=fJ("div",null,"CodeMirror-measure");f3.lineMeasure=fJ("div",null,"CodeMirror-measure");f3.lineSpace=fJ("div",[f3.measure,f3.lineMeasure,f3.selectionDiv,f3.cursorDiv,f3.lineDiv],null,"position: relative; outline: none");f3.mover=fJ("div",[fJ("div",[f3.lineSpace],"CodeMirror-lines")],null,"position: relative");f3.sizer=fJ("div",[f3.mover],"CodeMirror-sizer");f3.heightForcer=fJ("div",null,null,"position: absolute; height: "+bg+"px; width: 1px;");f3.gutters=fJ("div",null,"CodeMirror-gutters");f3.lineGutter=null;f3.scroller=fJ("div",[f3.sizer,f3.heightForcer,f3.gutters],"CodeMirror-scroll");f3.scroller.setAttribute("tabIndex","-1");f3.wrapper=fJ("div",[f3.inputDiv,f3.scrollbarH,f3.scrollbarV,f3.scrollbarFiller,f3.gutterFiller,f3.scroller],"CodeMirror");if(dy&&l<8){f3.gutters.style.zIndex=-1;f3.scroller.style.paddingRight=0}if(eO){f1.style.width="0px"}if(!cU){f3.scroller.draggable=true}if(a7){f3.inputDiv.style.height="1px";f3.inputDiv.style.position="absolute"}if(dy&&l<8){f3.scrollbarH.style.minHeight=f3.scrollbarV.style.minWidth="18px"}if(f0.appendChild){f0.appendChild(f3.wrapper)}else{f0(f3.wrapper)}f3.viewFrom=f3.viewTo=f2.first;f3.view=[];f3.externalMeasured=null;f3.viewOffset=0;f3.lastSizeC=0;f3.updateLineNumbers=null;f3.lineNumWidth=f3.lineNumInnerWidth=f3.lineNumChars=null;f3.prevInput="";f3.alignWidgets=false;f3.pollingFast=false;f3.poll=new fZ();f3.cachedCharWidth=f3.cachedTextHeight=f3.cachedPaddingH=null;f3.inaccurateSelection=false;f3.maxLine=null;f3.maxLineLength=0;f3.maxLineChanged=false;f3.wheelDX=f3.wheelDY=f3.wheelStartX=f3.wheelStartY=null;f3.shift=false;f3.selForContextMenu=null}function bp(f0){f0.doc.mode=J.getMode(f0.options,f0.doc.modeOption);d7(f0)}function d7(f0){f0.doc.iter(function(f1){if(f1.stateAfter){f1.stateAfter=null}if(f1.styles){f1.styles=null}});f0.doc.frontier=f0.doc.first;d1(f0,100);f0.state.modeGen++;if(f0.curOp){ag(f0)}}function et(f0){if(f0.options.lineWrapping){fn(f0.display.wrapper,"CodeMirror-wrap");f0.display.sizer.style.minWidth=""}else{f(f0.display.wrapper,"CodeMirror-wrap");g(f0)}Y(f0);ag(f0);aj(f0);setTimeout(function(){eL(f0)},100)}function a9(f0){var f2=aT(f0.display),f1=f0.options.lineWrapping;var f3=f1&&Math.max(5,f0.display.scroller.clientWidth/dt(f0.display)-3);return function(f5){if(fj(f0.doc,f5)){return 0}var f4=0;if(f5.widgets){for(var f6=0;f6<f5.widgets.length;f6++){if(f5.widgets[f6].height){f4+=f5.widgets[f6].height}}}if(f1){return f4+(Math.ceil(f5.text.length/f3)||1)*f2}else{return f4+f2}}}function Y(f0){var f2=f0.doc,f1=a9(f0);f2.iter(function(f3){var f4=f1(f3);if(f4!=f3.height){fN(f3,f4)}})}function fX(f0){var f2=eW[f0.options.keyMap],f1=f2.style;f0.display.wrapper.className=f0.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(f1?" cm-keymap-"+f1:"")}function cK(f0){f0.display.wrapper.className=f0.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f0.options.theme.replace(/(^|\s)\s*/g," cm-s-");aj(f0)}function dl(f0){dY(f0);ag(f0);setTimeout(function(){er(f0)},20)}function dY(f0){var f1=f0.display.gutters,f5=f0.options.gutters;dO(f1);for(var f2=0;f2<f5.length;++f2){var f3=f5[f2];var f4=f1.appendChild(fJ("div",null,"CodeMirror-gutter "+f3));if(f3=="CodeMirror-linenumbers"){f0.display.lineGutter=f4;f4.style.width=(f0.display.lineNumWidth||1)+"px"}}f1.style.display=f2?"":"none";cY(f0)}function cY(f0){var f1=f0.display.gutters.offsetWidth;f0.display.sizer.style.marginLeft=f1+"px";f0.display.scrollbarH.style.left=f0.options.fixedGutter?f1+"px":0}function d8(f2){if(f2.height==0){return 0}var f1=f2.text.length,f0,f4=f2;while(f0=eB(f4)){var f3=f0.find(0,true);f4=f3.from.line;f1+=f3.from.ch-f3.to.ch}f4=f2;while(f0=eh(f4)){var f3=f0.find(0,true);f1-=f4.text.length-f3.from.ch;f4=f3.to.line;f1+=f4.text.length-f3.to.ch}return f1}function g(f0){var f2=f0.display,f1=f0.doc;f2.maxLine=e1(f1,f1.first);f2.maxLineLength=d8(f2.maxLine);f2.maxLineChanged=true;f1.iter(function(f4){var f3=d8(f4);if(f3>f2.maxLineLength){f2.maxLineLength=f3;f2.maxLine=f4}})}function cc(f0){var f1=db(f0.gutters,"CodeMirror-linenumbers");if(f1==-1&&f0.lineNumbers){f0.gutters=f0.gutters.concat(["CodeMirror-linenumbers"])}else{if(f1>-1&&!f0.lineNumbers){f0.gutters=f0.gutters.slice(0);f0.gutters.splice(f1,1)}}}function cM(f0){return f0.display.scroller.clientHeight-f0.display.wrapper.clientHeight<bg-3}function dq(f1){var f0=f1.display.scroller;return{clientHeight:f0.clientHeight,barHeight:f1.display.scrollbarV.clientHeight,scrollWidth:f0.scrollWidth,clientWidth:f0.clientWidth,hScrollbarTakesSpace:cM(f1),barWidth:f1.display.scrollbarH.clientWidth,docHeight:Math.round(f1.doc.height+bG(f1.display))}}function eL(f7,f0){if(!f0){f0=dq(f7)}var f4=f7.display,f1=k(f4.measure);var f8=f0.docHeight+bg;var f2=f0.scrollWidth>f0.clientWidth;if(f2&&f0.scrollWidth<=f0.clientWidth+1&&f1>0&&!f0.hScrollbarTakesSpace){f2=false}var f3=f8>f0.clientHeight;if(f3){f4.scrollbarV.style.display="block";f4.scrollbarV.style.bottom=f2?f1+"px":"0";f4.scrollbarV.firstChild.style.height=Math.max(0,f8-f0.clientHeight+(f0.barHeight||f4.scrollbarV.clientHeight))+"px"}else{f4.scrollbarV.style.display="";f4.scrollbarV.firstChild.style.height="0"}if(f2){f4.scrollbarH.style.display="block";f4.scrollbarH.style.right=f3?f1+"px":"0";f4.scrollbarH.firstChild.style.width=(f0.scrollWidth-f0.clientWidth+(f0.barWidth||f4.scrollbarH.clientWidth))+"px"}else{f4.scrollbarH.style.display="";f4.scrollbarH.firstChild.style.width="0"}if(f2&&f3){f4.scrollbarFiller.style.display="block";f4.scrollbarFiller.style.height=f4.scrollbarFiller.style.width=f1+"px"}else{f4.scrollbarFiller.style.display=""}if(f2&&f7.options.coverGutterNextToScrollbar&&f7.options.fixedGutter){f4.gutterFiller.style.display="block";f4.gutterFiller.style.height=f1+"px";f4.gutterFiller.style.width=f4.gutters.offsetWidth+"px"}else{f4.gutterFiller.style.display=""}if(!f7.state.checkedOverlayScrollbar&&f0.clientHeight>0){if(f1===0){var f6=b5&&!c1?"12px":"18px";f4.scrollbarV.style.minWidth=f4.scrollbarH.style.minHeight=f6;var f5=function(f9){if(M(f9)!=f4.scrollbarV&&M(f9)!=f4.scrollbarH){cW(f7,ef)(f9)}};bV(f4.scrollbarV,"mousedown",f5);bV(f4.scrollbarH,"mousedown",f5)}f7.state.checkedOverlayScrollbar=true}}function b4(f3,f7,f2){var f4=f2&&f2.top!=null?Math.max(0,f2.top):f3.scroller.scrollTop;f4=Math.floor(f4-eU(f3));var f0=f2&&f2.bottom!=null?f2.bottom:f4+f3.wrapper.clientHeight;var f5=bE(f7,f4),f6=bE(f7,f0);if(f2&&f2.ensure){var f1=f2.ensure.from.line,f8=f2.ensure.to.line;if(f1<f5){return{from:f1,to:bE(f7,bK(e1(f7,f1))+f3.wrapper.clientHeight)}}if(Math.min(f8,f7.lastLine())>=f6){return{from:bE(f7,bK(e1(f7,f8))-f3.wrapper.clientHeight),to:f8}}}return{from:f5,to:Math.max(f6,f5+1)}}function er(f8){var f6=f8.display,f7=f6.view;if(!f6.alignWidgets&&(!f6.gutters.firstChild||!f8.options.fixedGutter)){return}var f4=dK(f6)-f6.scroller.scrollLeft+f8.doc.scrollLeft;var f0=f6.gutters.offsetWidth,f1=f4+"px";for(var f3=0;f3<f7.length;f3++){if(!f7[f3].hidden){if(f8.options.fixedGutter&&f7[f3].gutter){f7[f3].gutter.style.left=f1}var f5=f7[f3].alignable;if(f5){for(var f2=0;f2<f5.length;f2++){f5[f2].style.left=f1}}}}if(f8.options.fixedGutter){f6.gutters.style.left=(f4+f0)+"px"}}function dS(f0){if(!f0.options.lineNumbers){return false}var f5=f0.doc,f1=ee(f0.options,f5.first+f5.size-1),f4=f0.display;if(f1.length!=f4.lineNumChars){var f6=f4.measure.appendChild(fJ("div",[fJ("div",f1)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var f2=f6.firstChild.offsetWidth,f3=f6.offsetWidth-f2;f4.lineGutter.style.width="";f4.lineNumInnerWidth=Math.max(f2,f4.lineGutter.offsetWidth-f3);f4.lineNumWidth=f4.lineNumInnerWidth+f3;f4.lineNumChars=f4.lineNumInnerWidth?f1.length:-1;f4.lineGutter.style.width=f4.lineNumWidth+"px";cY(f0);return true}return false}function ee(f0,f1){return String(f0.lineNumberFormatter(f1+f0.firstLineNumber))}function dK(f0){return f0.scroller.getBoundingClientRect().left-f0.sizer.getBoundingClientRect().left}function aG(f1,f0,f2){var f3=f1.display;this.viewport=f0;this.visible=b4(f3,f1.doc,f0);this.editorIsHidden=!f3.wrapper.offsetWidth;this.wrapperHeight=f3.wrapper.clientHeight;this.oldViewFrom=f3.viewFrom;this.oldViewTo=f3.viewTo;this.oldScrollerWidth=f3.scroller.clientWidth;this.force=f2;this.dims=eZ(f1)}function D(f9,f3){var f4=f9.display,f8=f9.doc;if(f3.editorIsHidden){ej(f9);return false}if(!f3.force&&f3.visible.from>=f4.viewFrom&&f3.visible.to<=f4.viewTo&&(f4.updateLineNumbers==null||f4.updateLineNumbers>=f4.viewTo)&&c5(f9)==0){return false}if(dS(f9)){ej(f9);f3.dims=eZ(f9)}var f2=f8.first+f8.size;var f6=Math.max(f3.visible.from-f9.options.viewportMargin,f8.first);var f7=Math.min(f2,f3.visible.to+f9.options.viewportMargin);if(f4.viewFrom<f6&&f6-f4.viewFrom<20){f6=Math.max(f8.first,f4.viewFrom)}if(f4.viewTo>f7&&f4.viewTo-f7<20){f7=Math.min(f2,f4.viewTo)}if(a3){f6=aS(f9.doc,f6);f7=dQ(f9.doc,f7)}var f1=f6!=f4.viewFrom||f7!=f4.viewTo||f4.lastSizeC!=f3.wrapperHeight;cN(f9,f6,f7);f4.viewOffset=bK(e1(f9.doc,f4.viewFrom));f9.display.mover.style.top=f4.viewOffset+"px";var f0=c5(f9);if(!f1&&f0==0&&!f3.force&&(f4.updateLineNumbers==null||f4.updateLineNumbers>=f4.viewTo)){return false}var f5=dB();if(f0>4){f4.lineDiv.style.display="none"}cl(f9,f4.updateLineNumbers,f3.dims);if(f0>4){f4.lineDiv.style.display=""}if(f5&&dB()!=f5&&f5.offsetHeight){f5.focus()}dO(f4.cursorDiv);dO(f4.selectionDiv);if(f1){f4.lastSizeC=f3.wrapperHeight;d1(f9,400)}f4.updateLineNumbers=null;return true}function ci(f1,f5){var f3=f5.force,f0=f5.viewport;for(var f4=true;;f4=false){if(f4&&f1.options.lineWrapping&&f5.oldScrollerWidth!=f1.display.scroller.clientWidth){f3=true}else{f3=false;if(f0&&f0.top!=null){f0={top:Math.min(f1.doc.height+bG(f1.display)-bg-f1.display.scroller.clientHeight,f0.top)}}f5.visible=b4(f1.display,f1.doc,f0);if(f5.visible.from>=f1.display.viewFrom&&f5.visible.to<=f1.display.viewTo){break}}if(!D(f1,f5)){break}a5(f1);var f2=dq(f1);bA(f1);dp(f1,f2);eL(f1,f2)}ad(f1,"update",f1);if(f1.display.viewFrom!=f5.oldViewFrom||f1.display.viewTo!=f5.oldViewTo){ad(f1,"viewportChange",f1,f1.display.viewFrom,f1.display.viewTo)}}function dG(f1,f0){var f3=new aG(f1,f0);if(D(f1,f3)){ci(f1,f3);var f2=dq(f1);bA(f1);dp(f1,f2);eL(f1,f2)}}function dp(f0,f1){f0.display.sizer.style.minHeight=f0.display.heightForcer.style.top=f1.docHeight+"px";f0.display.gutters.style.height=Math.max(f1.docHeight,f1.clientHeight-bg)+"px"}function fM(f0,f1){if(f0.display.sizer.offsetWidth+f0.display.gutters.offsetWidth<f0.display.scroller.clientWidth-1){f0.display.sizer.style.minHeight=f0.display.heightForcer.style.top="0px";f0.display.gutters.style.height=f1.docHeight+"px"}}function a5(f7){var f5=f7.display;var f1=f5.lineDiv.offsetTop;for(var f2=0;f2<f5.view.length;f2++){var f8=f5.view[f2],f9;if(f8.hidden){continue}if(dy&&l<8){var f4=f8.node.offsetTop+f8.node.offsetHeight;f9=f4-f1;f1=f4}else{var f3=f8.node.getBoundingClientRect();f9=f3.bottom-f3.top}var f6=f8.line.height-f9;if(f9<2){f9=aT(f5)}if(f6>0.001||f6<-0.001){fN(f8.line,f9);b9(f8.line);if(f8.rest){for(var f0=0;f0<f8.rest.length;f0++){b9(f8.rest[f0])}}}}}function b9(f0){if(f0.widgets){for(var f1=0;f1<f0.widgets.length;++f1){f0.widgets[f1].height=f0.widgets[f1].node.offsetHeight}}}function eZ(f0){var f4=f0.display,f3={},f2={};for(var f5=f4.gutters.firstChild,f1=0;f5;f5=f5.nextSibling,++f1){f3[f0.options.gutters[f1]]=f5.offsetLeft;f2[f0.options.gutters[f1]]=f5.offsetWidth}return{fixedPos:dK(f4),gutterTotalWidth:f4.gutters.offsetWidth,gutterLeft:f3,gutterWidth:f2,wrapperWidth:f4.wrapper.clientWidth}}function cl(gb,f2,ga){var f7=gb.display,gd=gb.options.lineNumbers;var f0=f7.lineDiv,gc=f0.firstChild;function f6(gf){var ge=gf.nextSibling;if(cU&&b5&&gb.display.currentWheelTarget==gf){gf.style.display="none"}else{gf.parentNode.removeChild(gf)}return ge}var f8=f7.view,f5=f7.viewFrom;for(var f3=0;f3<f8.length;f3++){var f4=f8[f3];if(f4.hidden){}else{if(!f4.node){var f1=aD(gb,f4,f5,ga);f0.insertBefore(f1,gc)}else{while(gc!=f4.node){gc=f6(gc)}var f9=gd&&f2!=null&&f2<=f5&&f4.lineNumber;if(f4.changes){if(db(f4.changes,"gutter")>-1){f9=false}aa(gb,f4,f5,ga)}if(f9){dO(f4.lineNumber);f4.lineNumber.appendChild(document.createTextNode(ee(gb.options,f5)))}gc=f4.node.nextSibling}}f5+=f4.size}while(gc){gc=f6(gc)}}function aa(f0,f2,f4,f5){for(var f1=0;f1<f2.changes.length;f1++){var f3=f2.changes[f1];if(f3=="text"){e7(f0,f2)}else{if(f3=="gutter"){c9(f0,f2,f4,f5)}else{if(f3=="class"){dw(f2)}else{if(f3=="widget"){am(f2,f5)}}}}}f2.changes=null}function fv(f0){if(f0.node==f0.text){f0.node=fJ("div",null,null,"position: relative");if(f0.text.parentNode){f0.text.parentNode.replaceChild(f0.node,f0.text)}f0.node.appendChild(f0.text);if(dy&&l<8){f0.node.style.zIndex=2}}return f0.node}function eg(f1){var f0=f1.bgClass?f1.bgClass+" "+(f1.line.bgClass||""):f1.line.bgClass;if(f0){f0+=" CodeMirror-linebackground"}if(f1.background){if(f0){f1.background.className=f0}else{f1.background.parentNode.removeChild(f1.background);f1.background=null}}else{if(f0){var f2=fv(f1);f1.background=f2.insertBefore(fJ("div",null,f0),f2.firstChild)}}}function dI(f0,f1){var f2=f0.display.externalMeasured;if(f2&&f2.line==f1.line){f0.display.externalMeasured=null;f1.measure=f2.measure;return f2.built}return eE(f0,f1)}function e7(f0,f3){var f1=f3.text.className;var f2=dI(f0,f3);if(f3.text==f3.node){f3.node=f2.pre}f3.text.parentNode.replaceChild(f2.pre,f3.text);f3.text=f2.pre;if(f2.bgClass!=f3.bgClass||f2.textClass!=f3.textClass){f3.bgClass=f2.bgClass;f3.textClass=f2.textClass;dw(f3)}else{if(f1){f3.text.className=f1}}}function dw(f1){eg(f1);if(f1.line.wrapClass){fv(f1).className=f1.line.wrapClass}else{if(f1.node!=f1.text){f1.node.className=""}}var f0=f1.textClass?f1.textClass+" "+(f1.line.textClass||""):f1.line.textClass;f1.text.className=f0||""}function c9(f8,f6,f5,f7){if(f6.gutter){f6.node.removeChild(f6.gutter);f6.gutter=null}var f3=f6.line.gutterMarkers;if(f8.options.lineNumbers||f3){var f1=fv(f6);var f4=f6.gutter=f1.insertBefore(fJ("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(f8.options.fixedGutter?f7.fixedPos:-f7.gutterTotalWidth)+"px"),f6.text);if(f8.options.lineNumbers&&(!f3||!f3["CodeMirror-linenumbers"])){f6.lineNumber=f4.appendChild(fJ("div",ee(f8.options,f5),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f7.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+f8.display.lineNumInnerWidth+"px"))}if(f3){for(var f2=0;f2<f8.options.gutters.length;++f2){var f0=f8.options.gutters[f2],f9=f3.hasOwnProperty(f0)&&f3[f0];if(f9){f4.appendChild(fJ("div",[f9],"CodeMirror-gutter-elt","left: "+f7.gutterLeft[f0]+"px; width: "+f7.gutterWidth[f0]+"px"))}}}}}function am(f0,f3){if(f0.alignable){f0.alignable=null}for(var f2=f0.node.firstChild,f1;f2;f2=f1){var f1=f2.nextSibling;if(f2.className=="CodeMirror-linewidget"){f0.node.removeChild(f2)}}fg(f0,f3)}function aD(f0,f2,f3,f4){var f1=dI(f0,f2);f2.text=f2.node=f1.pre;if(f1.bgClass){f2.bgClass=f1.bgClass}if(f1.textClass){f2.textClass=f1.textClass}dw(f2);c9(f0,f2,f3,f4);fg(f2,f4);return f2.node}function fg(f1,f2){fO(f1.line,f1,f2,true);if(f1.rest){for(var f0=0;f0<f1.rest.length;f0++){fO(f1.rest[f0],f1,f2,false)}}}function fO(f8,f5,f7,f3){if(!f8.widgets){return}var f0=fv(f5);for(var f2=0,f6=f8.widgets;f2<f6.length;++f2){var f4=f6[f2],f1=fJ("div",[f4.node],"CodeMirror-linewidget");if(!f4.handleMouseEvents){f1.ignoreEvents=true}bD(f4,f1,f5,f7);if(f3&&f4.above){f0.insertBefore(f1,f5.gutter||f5.text)}else{f0.appendChild(f1)}ad(f4,"redraw")}}function bD(f3,f2,f0,f4){if(f3.noHScroll){(f0.alignable||(f0.alignable=[])).push(f2);var f1=f4.wrapperWidth;f2.style.left=f4.fixedPos+"px";if(!f3.coverGutter){f1-=f4.gutterTotalWidth;f2.style.paddingLeft=f4.gutterTotalWidth+"px"}f2.style.width=f1+"px"}if(f3.coverGutter){f2.style.zIndex=5;f2.style.position="relative";if(!f3.noHScroll){f2.style.marginLeft=-f4.gutterTotalWidth+"px"}}}var X=J.Pos=function(f0,f1){if(!(this instanceof X)){return new X(f0,f1)}this.line=f0;this.ch=f1};var cd=J.cmpPos=function(f1,f0){return f1.line-f0.line||f1.ch-f0.ch};function ch(f0){return X(f0.line,f0.ch)}function bv(f1,f0){return cd(f1,f0)<0?f0:f1}function ap(f1,f0){return cd(f1,f0)<0?f1:f0}function fK(f0,f1){this.ranges=f0;this.primIndex=f1}fK.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(f0){if(f0==this){return true}if(f0.primIndex!=this.primIndex||f0.ranges.length!=this.ranges.length){return false}for(var f2=0;f2<this.ranges.length;f2++){var f1=this.ranges[f2],f3=f0.ranges[f2];if(cd(f1.anchor,f3.anchor)!=0||cd(f1.head,f3.head)!=0){return false}}return true},deepCopy:function(){for(var f0=[],f1=0;f1<this.ranges.length;f1++){f0[f1]=new dL(ch(this.ranges[f1].anchor),ch(this.ranges[f1].head))}return new fK(f0,this.primIndex)},somethingSelected:function(){for(var f0=0;f0<this.ranges.length;f0++){if(!this.ranges[f0].empty()){return true}}return false},contains:function(f3,f0){if(!f0){f0=f3}for(var f2=0;f2<this.ranges.length;f2++){var f1=this.ranges[f2];if(cd(f0,f1.from())>=0&&cd(f3,f1.to())<=0){return f2}}return -1}};function dL(f0,f1){this.anchor=f0;this.head=f1}dL.prototype={from:function(){return ap(this.anchor,this.head)},to:function(){return bv(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function cu(f0,f7){var f2=f0[f7];f0.sort(function(ga,f9){return cd(ga.from(),f9.from())});f7=db(f0,f2);for(var f4=1;f4<f0.length;f4++){var f8=f0[f4],f1=f0[f4-1];if(cd(f1.to(),f8.from())>=0){var f5=ap(f1.from(),f8.from()),f6=bv(f1.to(),f8.to());var f3=f1.empty()?f8.from()==f8.head:f1.from()==f1.head;if(f4<=f7){--f7}f0.splice(--f4,2,new dL(f3?f6:f5,f3?f5:f6))}}return new fK(f0,f7)}function eF(f0,f1){return new fK([new dL(f0,f1||f0)],0)}function cZ(f0,f1){return Math.max(f0.first,Math.min(f1,f0.first+f0.size-1))}function fw(f1,f2){if(f2.line<f1.first){return X(f1.first,0)}var f0=f1.first+f1.size-1;if(f2.line>f0){return X(f0,e1(f1,f0).text.length)}return ff(f2,e1(f1,f2.line).text.length)}function ff(f2,f1){var f0=f2.ch;if(f0==null||f0>f1){return X(f2.line,f1)}else{if(f0<0){return X(f2.line,0)}else{return f2}}}function b7(f1,f0){return f0>=f1.first&&f0<f1.first+f1.size}function dM(f2,f3){for(var f0=[],f1=0;f1<f3.length;f1++){f0[f1]=fw(f2,f3[f1])}return f0}function fi(f5,f1,f4,f0){if(f5.cm&&f5.cm.display.shift||f5.extend){var f3=f1.anchor;if(f0){var f2=cd(f4,f3)<0;if(f2!=(cd(f0,f3)<0)){f3=f4;f4=f0}else{if(f2!=(cd(f4,f0)<0)){f4=f0}}}return new dL(f3,f4)}else{return new dL(f0||f4,f4)}}function fG(f3,f2,f0,f1){bS(f3,new fK([fi(f3,f3.sel.primary(),f2,f0)],0),f1)}function aw(f5,f4,f2){for(var f1=[],f3=0;f3<f5.sel.ranges.length;f3++){f1[f3]=fi(f5,f5.sel.ranges[f3],f4[f3],null)}var f0=cu(f1,f5.sel.primIndex);bS(f5,f0,f2)}function e(f4,f3,f1,f2){var f0=f4.sel.ranges.slice(0);f0[f3]=f1;bS(f4,cu(f0,f4.sel.primIndex),f2)}function H(f3,f1,f2,f0){bS(f3,eF(f1,f2),f0)}function c(f2,f0){var f1={ranges:f0.ranges,update:function(f3){this.ranges=[];for(var f4=0;f4<f3.length;f4++){this.ranges[f4]=new dL(fw(f2,f3[f4].anchor),fw(f2,f3[f4].head))}}};aC(f2,"beforeSelectionChange",f2,f1);if(f2.cm){aC(f2.cm,"beforeSelectionChange",f2.cm,f1)}if(f1.ranges!=f0.ranges){return cu(f1.ranges,f1.ranges.length-1)}else{return f0}}function eT(f4,f3,f1){var f0=f4.history.done,f2=fu(f0);if(f2&&f2.ranges){f0[f0.length-1]=f3;eb(f4,f3,f1)}else{bS(f4,f3,f1)}}function bS(f2,f1,f0){eb(f2,f1,f0);fT(f2,f2.sel,f2.cm?f2.cm.curOp.id:NaN,f0)}function eb(f3,f2,f1){if(e4(f3,"beforeSelectionChange")||f3.cm&&e4(f3.cm,"beforeSelectionChange")){f2=c(f3,f2)}var f0=f1&&f1.bias||(cd(f2.primary().head,f3.sel.primary().head)<0?-1:1);c3(f3,o(f3,f2,f0,true));if(!(f1&&f1.scroll===false)&&f3.cm){ft(f3.cm)}}function c3(f1,f0){if(f0.equals(f1.sel)){return}f1.sel=f0;if(f1.cm){f1.cm.curOp.updateInput=f1.cm.curOp.selectionChanged=true;W(f1.cm)}ad(f1,"cursorActivity",f1)}function ek(f0){c3(f0,o(f0,f0.sel,null,false),Z)}function o(f8,f0,f5,f6){var f2;for(var f3=0;f3<f0.ranges.length;f3++){var f4=f0.ranges[f3];var f7=bT(f8,f4.anchor,f5,f6);var f1=bT(f8,f4.head,f5,f6);if(f2||f7!=f4.anchor||f1!=f4.head){if(!f2){f2=f0.ranges.slice(0,f3)}f2[f3]=new dL(f7,f1)}}return f2?cu(f2,f0.primIndex):f0}function bT(f9,f8,f5,f6){var ga=false,f2=f8;var f3=f5||1;f9.cantEdit=false;search:for(;;){var gb=e1(f9,f2.line);if(gb.markedSpans){for(var f4=0;f4<gb.markedSpans.length;++f4){var f0=gb.markedSpans[f4],f1=f0.marker;if((f0.from==null||(f1.inclusiveLeft?f0.from<=f2.ch:f0.from<f2.ch))&&(f0.to==null||(f1.inclusiveRight?f0.to>=f2.ch:f0.to>f2.ch))){if(f6){aC(f1,"beforeCursorEnter");if(f1.explicitlyCleared){if(!gb.markedSpans){break}else{--f4;continue}}}if(!f1.atomic){continue}var f7=f1.find(f3<0?-1:1);if(cd(f7,f2)==0){f7.ch+=f3;if(f7.ch<0){if(f7.line>f9.first){f7=fw(f9,X(f7.line-1))}else{f7=null}}else{if(f7.ch>gb.text.length){if(f7.line<f9.first+f9.size-1){f7=X(f7.line+1,0)}else{f7=null}}}if(!f7){if(ga){if(!f6){return bT(f9,f8,f5,true)}f9.cantEdit=true;return X(f9.first,0)}ga=true;f7=f8;f3=-f3}}f2=f7;continue search}}}return f2}}function bj(ga){var f6=ga.display,f9=ga.doc,gb={};var f8=gb.cursors=document.createDocumentFragment();var f2=gb.selection=document.createDocumentFragment();for(var f4=0;f4<f9.sel.ranges.length;f4++){var f5=f9.sel.ranges[f4];var f3=f5.empty();if(f3||ga.options.showCursorWhenSelecting){B(ga,f5,f8)}if(!f3){bB(ga,f5,f2)}}if(ga.options.moveInputWithCursor){var f7=dH(ga,f9.sel.primary().head,"div");var f0=f6.wrapper.getBoundingClientRect(),f1=f6.lineDiv.getBoundingClientRect();gb.teTop=Math.max(0,Math.min(f6.wrapper.clientHeight-10,f7.top+f1.top-f0.top));gb.teLeft=Math.max(0,Math.min(f6.wrapper.clientWidth-10,f7.left+f1.left-f0.left))}return gb}function bA(f0,f1){if(!f1){f1=bj(f0)}bP(f0.display.cursorDiv,f1.cursors);bP(f0.display.selectionDiv,f1.selection);if(f1.teTop!=null){f0.display.inputDiv.style.top=f1.teTop+"px";f0.display.inputDiv.style.left=f1.teLeft+"px"}}function B(f0,f3,f2){var f5=dH(f0,f3.head,"div",null,null,!f0.options.singleCursorHeightPerLine);var f4=f2.appendChild(fJ("div","\u00a0","CodeMirror-cursor"));f4.style.left=f5.left+"px";f4.style.top=f5.top+"px";f4.style.height=Math.max(0,f5.bottom-f5.top)*f0.options.cursorHeight+"px";if(f5.other){var f1=f2.appendChild(fJ("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));f1.style.display="";f1.style.left=f5.other.left+"px";f1.style.top=f5.other.top+"px";f1.style.height=(f5.other.bottom-f5.other.top)*0.85+"px"}}function bB(f4,ga,f5){var gd=f4.display,gh=f4.doc;var f0=document.createDocumentFragment();var f9=eR(f4.display),f3=f9.left,ge=gd.lineSpace.offsetWidth-f9.right;function gb(gl,gk,gj,gi){if(gk<0){gk=0}gk=Math.round(gk);gi=Math.round(gi);f0.appendChild(fJ("div",null,"CodeMirror-selected","position: absolute; left: "+gl+"px; top: "+gk+"px; width: "+(gj==null?ge-gl:gj)+"px; height: "+(gi-gk)+"px"))}function f1(gj,gl,go){var gk=e1(gh,gj);var gm=gk.text.length;var gp,gi;function gn(gr,gq){return cF(f4,X(gj,gr),"div",gk,gq)}dR(a(gk),gl||0,go==null?gm:go,function(gx,gw,gq){var gt=gn(gx,"left"),gu,gv,gs;if(gx==gw){gu=gt;gv=gs=gt.left}else{gu=gn(gw-1,"right");if(gq=="rtl"){var gr=gt;gt=gu;gu=gr}gv=gt.left;gs=gu.right}if(gl==null&&gx==0){gv=f3}if(gu.top-gt.top>3){gb(gv,gt.top,null,gt.bottom);gv=f3;if(gt.bottom<gu.top){gb(gv,gt.bottom,null,gu.top)}}if(go==null&&gw==gm){gs=ge}if(!gp||gt.top<gp.top||gt.top==gp.top&&gt.left<gp.left){gp=gt}if(!gi||gu.bottom>gi.bottom||gu.bottom==gi.bottom&&gu.right>gi.right){gi=gu}if(gv<f3+1){gv=f3}gb(gv,gu.top,gs-gv,gu.bottom)});return{start:gp,end:gi}}var gg=ga.from(),gf=ga.to();if(gg.line==gf.line){f1(gg.line,gg.ch,gf.ch)}else{var f2=e1(gh,gg.line),f7=e1(gh,gf.line);var f6=z(f2)==z(f7);var f8=f1(gg.line,gg.ch,f6?f2.text.length+1:null).end;var gc=f1(gf.line,f6?0:null,gf.ch).start;if(f6){if(f8.top<gc.top-2){gb(f8.right,f8.top,null,f8.bottom);gb(f3,gc.top,gc.left,gc.bottom)}else{gb(f8.right,f8.top,gc.left-f8.right,f8.bottom)}}if(f8.bottom<gc.top){gb(f3,f8.bottom,null,gc.top)}}f5.appendChild(f0)}function p(f0){if(!f0.state.focused){return}var f2=f0.display;clearInterval(f2.blinker);var f1=true;f2.cursorDiv.style.visibility="";if(f0.options.cursorBlinkRate>0){f2.blinker=setInterval(function(){f2.cursorDiv.style.visibility=(f1=!f1)?"":"hidden"},f0.options.cursorBlinkRate)}else{if(f0.options.cursorBlinkRate<0){f2.cursorDiv.style.visibility="hidden"}}}function d1(f0,f1){if(f0.doc.mode.startState&&f0.doc.frontier<f0.display.viewTo){f0.state.highlight.set(f1,ct(cL,f0))}}function cL(f0){var f4=f0.doc;if(f4.frontier<f4.first){f4.frontier=f4.first}if(f4.frontier>=f0.display.viewTo){return}var f2=+new Date+f0.options.workTime;var f3=b1(f4.mode,dr(f0,f4.frontier));var f1=[];f4.iter(f4.frontier,Math.min(f4.first+f4.size,f0.display.viewTo+500),function(f5){if(f4.frontier>=f0.display.viewFrom){var f8=f5.styles;var ga=fm(f0,f5,f3,true);f5.styles=ga.styles;var f7=f5.styleClasses,f9=ga.classes;if(f9){f5.styleClasses=f9}else{if(f7){f5.styleClasses=null}}var gb=!f8||f8.length!=f5.styles.length||f7!=f9&&(!f7||!f9||f7.bgClass!=f9.bgClass||f7.textClass!=f9.textClass);for(var f6=0;!gb&&f6<f8.length;++f6){gb=f8[f6]!=f5.styles[f6]}if(gb){f1.push(f4.frontier)}f5.stateAfter=b1(f4.mode,f3)}else{dm(f0,f5.text,f3);f5.stateAfter=f4.frontier%5==0?b1(f4.mode,f3):null}++f4.frontier;if(+new Date>f2){d1(f0,f0.options.workDelay);return true}});if(f1.length){cI(f0,function(){for(var f5=0;f5<f1.length;f5++){S(f0,f1[f5],"text")}})}}function cw(f6,f0,f3){var f1,f4,f5=f6.doc;var f2=f3?-1:f0-(f6.doc.mode.innerMode?1000:100);for(var f9=f0;f9>f2;--f9){if(f9<=f5.first){return f5.first}var f8=e1(f5,f9-1);if(f8.stateAfter&&(!f3||f9<=f5.frontier)){return f9}var f7=bR(f8.text,null,f6.options.tabSize);if(f4==null||f1>f7){f4=f9-1;f1=f7}}return f4}function dr(f0,f6,f1){var f4=f0.doc,f3=f0.display;if(!f4.mode.startState){return true}var f5=cw(f0,f6,f1),f2=f5>f4.first&&e1(f4,f5-1).stateAfter;if(!f2){f2=bY(f4.mode)}else{f2=b1(f4.mode,f2)}f4.iter(f5,f6,function(f7){dm(f0,f7.text,f2);var f8=f5==f6-1||f5%5==0||f5>=f3.viewFrom&&f5<f3.viewTo;f7.stateAfter=f8?b1(f4.mode,f2):null;++f5});if(f1){f4.frontier=f5}return f2}function eU(f0){return f0.lineSpace.offsetTop}function bG(f0){return f0.mover.offsetHeight-f0.lineSpace.offsetHeight}function eR(f3){if(f3.cachedPaddingH){return f3.cachedPaddingH}var f2=bP(f3.measure,fJ("pre","x"));var f0=window.getComputedStyle?window.getComputedStyle(f2):f2.currentStyle;var f1={left:parseInt(f0.paddingLeft),right:parseInt(f0.paddingRight)};if(!isNaN(f1.left)&&!isNaN(f1.right)){f3.cachedPaddingH=f1}return f1}function cg(f7,f3,f6){var f2=f7.options.lineWrapping;var f4=f2&&f7.display.scroller.clientWidth;if(!f3.measure.heights||f2&&f3.measure.width!=f4){var f5=f3.measure.heights=[];if(f2){f3.measure.width=f4;var f9=f3.text.firstChild.getClientRects();for(var f0=0;f0<f9.length-1;f0++){var f8=f9[f0],f1=f9[f0+1];if(Math.abs(f8.bottom-f1.bottom)>2){f5.push((f8.bottom+f1.top)/2-f6.top)}}}f5.push(f6.bottom-f6.top)}}function cr(f2,f0,f3){if(f2.line==f0){return{map:f2.measure.map,cache:f2.measure.cache}}for(var f1=0;f1<f2.rest.length;f1++){if(f2.rest[f1]==f0){return{map:f2.measure.maps[f1],cache:f2.measure.caches[f1]}}}for(var f1=0;f1<f2.rest.length;f1++){if(bL(f2.rest[f1])>f3){return{map:f2.measure.maps[f1],cache:f2.measure.caches[f1],before:true}}}}function cV(f0,f2){f2=z(f2);var f4=bL(f2);var f1=f0.display.externalMeasured=new bt(f0.doc,f2,f4);f1.lineN=f4;var f3=f1.built=eE(f0,f1);f1.text=f3.pre;bP(f0.display.lineMeasure,f3.pre);return f1}function d3(f0,f1,f3,f2){return E(f0,a0(f0,f1),f3,f2)}function eX(f0,f2){if(f2>=f0.display.viewFrom&&f2<f0.display.viewTo){return f0.display.view[dh(f0,f2)]}var f1=f0.display.externalMeasured;if(f1&&f2>=f1.lineN&&f2<f1.lineN+f1.size){return f1}}function a0(f0,f2){var f3=bL(f2);var f1=eX(f0,f3);if(f1&&!f1.text){f1=null}else{if(f1&&f1.changes){aa(f0,f1,f3,eZ(f0))}}if(!f1){f1=cV(f0,f2)}var f4=cr(f1,f2,f3);return{line:f2,view:f1,rect:null,map:f4.map,cache:f4.cache,before:f4.before,hasHeights:false}}function E(f0,f6,f4,f1,f3){if(f6.before){f4=-1}var f2=f4+(f1||""),f5;if(f6.cache.hasOwnProperty(f2)){f5=f6.cache[f2]}else{if(!f6.rect){f6.rect=f6.view.text.getBoundingClientRect()}if(!f6.hasHeights){cg(f0,f6.view,f6.rect);f6.hasHeights=true}f5=j(f0,f6,f4,f1);if(!f5.bogus){f6.cache[f2]=f5}}return{left:f5.left,right:f5.right,top:f3?f5.rtop:f5.top,bottom:f3?f5.rbottom:f5.bottom}}var en={left:0,right:0,top:0,bottom:0};function j(f7,gh,f9,f5){var gl=gh.map;var ge,f4,f3,f0;for(var gg=0;gg<gl.length;gg+=3){var gj=gl[gg],gf=gl[gg+1];if(f9<gj){f4=0;f3=1;f0="left"}else{if(f9<gf){f4=f9-gj;f3=f4+1}else{if(gg==gl.length-3||f9==gf&&gl[gg+3]>f9){f3=gf-gj;f4=f3-1;if(f9>=gf){f0="right"}}}}if(f4!=null){ge=gl[gg+2];if(gj==gf&&f5==(ge.insertLeft?"left":"right")){f0=f5}if(f5=="left"&&f4==0){while(gg&&gl[gg-2]==gl[gg-3]&&gl[gg-1].insertLeft){ge=gl[(gg-=3)+2];f0="left"}}if(f5=="right"&&f4==gf-gj){while(gg<gl.length-3&&gl[gg+3]==gl[gg+4]&&!gl[gg+5].insertLeft){ge=gl[(gg+=3)+2];f0="right"}}break}}var f1;if(ge.nodeType==3){while(f4&&fc(gh.line.text.charAt(gj+f4))){--f4}while(gj+f3<gf&&fc(gh.line.text.charAt(gj+f3))){++f3}if(dy&&l<9&&f4==0&&f3==gf-gj){f1=ge.parentNode.getBoundingClientRect()}else{if(dy&&f7.options.lineWrapping){var f2=ck(ge,f4,f3).getClientRects();if(f2.length){f1=f2[f5=="right"?f2.length-1:0]}else{f1=en}}else{f1=ck(ge,f4,f3).getBoundingClientRect()||en}}}else{if(f4>0){f0=f5="right"}var f2;if(f7.options.lineWrapping&&(f2=ge.getClientRects()).length>1){f1=f2[f5=="right"?f2.length-1:0]}else{f1=ge.getBoundingClientRect()}}if(dy&&l<9&&!f4&&(!f1||!f1.left&&!f1.right)){var f6=ge.parentNode.getClientRects()[0];if(f6){f1={left:f6.left,right:f6.left+dt(f7.display),top:f6.top,bottom:f6.bottom}}else{f1=en}}if(dy&&l<11){f1=eA(f7.display.measure,f1)}var gc=f1.top-gh.rect.top,ga=f1.bottom-gh.rect.top;var gk=(gc+ga)/2;var gi=gh.view.measure.heights;for(var gg=0;gg<gi.length-1;gg++){if(gk<gi[gg]){break}}var gd=gg?gi[gg-1]:0,gb=gi[gg];var f8={left:(f0=="right"?f1.right:f1.left)-gh.rect.left,right:(f0=="left"?f1.left:f1.right)-gh.rect.left,top:gd,bottom:gb};if(!f1.left&&!f1.right){f8.bogus=true}if(!f7.options.singleCursorHeightPerLine){f8.rtop=gc;f8.rbottom=ga}return f8}function eA(f2,f3){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!aI(f2)){return f3}var f1=screen.logicalXDPI/screen.deviceXDPI;var f0=screen.logicalYDPI/screen.deviceYDPI;return{left:f3.left*f1,right:f3.right*f1,top:f3.top*f0,bottom:f3.bottom*f0}}function at(f1){if(f1.measure){f1.measure.cache={};f1.measure.heights=null;if(f1.rest){for(var f0=0;f0<f1.rest.length;f0++){f1.measure.caches[f0]={}}}}}function aL(f0){f0.display.externalMeasure=null;dO(f0.display.lineMeasure);for(var f1=0;f1<f0.display.view.length;f1++){at(f0.display.view[f1])}}function aj(f0){aL(f0);f0.display.cachedCharWidth=f0.display.cachedTextHeight=f0.display.cachedPaddingH=null;if(!f0.options.lineWrapping){f0.display.maxLineChanged=true}f0.display.lineNumChars=null}function cs(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cq(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function eD(f6,f3,f5,f1){if(f3.widgets){for(var f2=0;f2<f3.widgets.length;++f2){if(f3.widgets[f2].above){var f8=cS(f3.widgets[f2]);f5.top+=f8;f5.bottom+=f8}}}if(f1=="line"){return f5}if(!f1){f1="local"}var f4=bK(f3);if(f1=="local"){f4+=eU(f6.display)}else{f4-=f6.display.viewOffset}if(f1=="page"||f1=="window"){var f0=f6.display.lineSpace.getBoundingClientRect();f4+=f0.top+(f1=="window"?0:cq());var f7=f0.left+(f1=="window"?0:cs());f5.left+=f7;f5.right+=f7}f5.top+=f4;f5.bottom+=f4;return f5}function fW(f1,f4,f2){if(f2=="div"){return f4}var f6=f4.left,f5=f4.top;if(f2=="page"){f6-=cs();f5-=cq()}else{if(f2=="local"||!f2){var f3=f1.display.sizer.getBoundingClientRect();f6+=f3.left;f5+=f3.top}}var f0=f1.display.lineSpace.getBoundingClientRect();return{left:f6-f0.left,top:f5-f0.top}}function cF(f0,f4,f3,f2,f1){if(!f2){f2=e1(f0.doc,f4.line)}return eD(f0,f2,d3(f0,f2,f4.ch,f1),f3)}function dH(f9,f8,f2,f6,gb,f7){f6=f6||e1(f9.doc,f8.line);if(!gb){gb=a0(f9,f6)}function f4(ge,gd){var gc=E(f9,gb,ge,gd?"right":"left",f7);if(gd){gc.left=gc.right}else{gc.right=gc.left}return eD(f9,f6,gc,f2)}function ga(gf,gc){var gd=f5[gc],ge=gd.level%2;if(gf==dn(gd)&&gc&&gd.level<f5[gc-1].level){gd=f5[--gc];gf=fV(gd)-(gd.level%2?0:1);ge=true}else{if(gf==fV(gd)&&gc<f5.length-1&&gd.level<f5[gc+1].level){gd=f5[++gc];gf=dn(gd)-gd.level%2;ge=false}}if(ge&&gf==gd.to&&gf>gd.from){return f4(gf-1)}return f4(gf,ge)}var f5=a(f6),f0=f8.ch;if(!f5){return f4(f0)}var f1=aE(f5,f0);var f3=ga(f0,f1);if(eP!=null){f3.other=ga(f0,eP)}return f3}function dx(f0,f4){var f3=0,f4=fw(f0.doc,f4);if(!f0.options.lineWrapping){f3=dt(f0.display)*f4.ch}var f1=e1(f0.doc,f4.line);var f2=bK(f1)+eU(f0.display);return{left:f3,right:f3,top:f2,bottom:f2+f1.height}}function fI(f0,f1,f2,f4){var f3=X(f0,f1);f3.xRel=f4;if(f2){f3.outside=true}return f3}function fB(f7,f4,f3){var f6=f7.doc;f3+=f7.display.viewOffset;if(f3<0){return fI(f6.first,0,true,-1)}var f2=bE(f6,f3),f8=f6.first+f6.size-1;if(f2>f8){return fI(f6.first+f6.size-1,e1(f6,f8).text.length,true,1)}if(f4<0){f4=0}var f1=e1(f6,f2);for(;;){var f9=cT(f7,f1,f2,f4,f3);var f5=eh(f1);var f0=f5&&f5.find(0,true);if(f5&&(f9.ch>f0.from.ch||f9.ch==f0.from.ch&&f9.xRel>0)){f2=bL(f1=f0.to.line)}else{return f9}}}function cT(ga,f2,gd,gc,gb){var f9=gb-bK(f2);var f6=false,gj=2*ga.display.wrapper.clientWidth;var gg=a0(ga,f2);function gn(gp){var gq=dH(ga,X(gd,gp),"line",f2,gg);f6=true;if(f9>gq.bottom){return gq.left-gj}else{if(f9<gq.top){return gq.left+gj}else{f6=false}}return gq.left}var gf=a(f2),gi=f2.text.length;var gk=cB(f2),f3=cO(f2);var gh=gn(gk),f0=f6,f1=gn(f3),f5=f6;if(gc>f1){return fI(gd,f3,f5,1)}for(;;){if(gf?f3==gk||f3==v(f2,gk,1):f3-gk<=1){var ge=gc<gh||gc-gh<=f1-gc?gk:f3;var gm=gc-(ge==gk?gh:f1);while(fc(f2.text.charAt(ge))){++ge}var f8=fI(gd,ge,ge==gk?f0:f5,gm<-1?-1:gm>1?1:0);return f8}var f7=Math.ceil(gi/2),go=gk+f7;if(gf){go=gk;for(var gl=0;gl<f7;++gl){go=v(f2,go,1)}}var f4=gn(go);if(f4>gc){f3=go;f1=f4;if(f5=f6){f1+=1000}gi=f7}else{gk=go;gh=f4;f0=f6;gi-=f7}}}var aF;function aT(f2){if(f2.cachedTextHeight!=null){return f2.cachedTextHeight}if(aF==null){aF=fJ("pre");for(var f1=0;f1<49;++f1){aF.appendChild(document.createTextNode("x"));aF.appendChild(fJ("br"))}aF.appendChild(document.createTextNode("x"))}bP(f2.measure,aF);var f0=aF.offsetHeight/50;if(f0>3){f2.cachedTextHeight=f0}dO(f2.measure);return f0||1}function dt(f4){if(f4.cachedCharWidth!=null){return f4.cachedCharWidth}var f0=fJ("span","xxxxxxxxxx");var f3=fJ("pre",[f0]);bP(f4.measure,f3);var f2=f0.getBoundingClientRect(),f1=(f2.right-f2.left)/10;if(f1>2){f4.cachedCharWidth=f1}return f1||10}var bn=null;var dV=0;function cE(f0){f0.curOp={cm:f0,viewChanged:false,startHeight:f0.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++dV};if(bn){bn.ops.push(f0.curOp)}else{f0.curOp.ownsGroup=bn={ops:[f0.curOp],delayedCallbacks:[]}}}function cP(f3){var f2=f3.delayedCallbacks,f1=0;do{for(;f1<f2.length;f1++){f2[f1]()}for(var f0=0;f0<f3.ops.length;f0++){var f4=f3.ops[f0];if(f4.cursorActivityHandlers){while(f4.cursorActivityCalled<f4.cursorActivityHandlers.length){f4.cursorActivityHandlers[f4.cursorActivityCalled++](f4.cm)}}}}while(f1<f2.length)}function ak(f0){var f3=f0.curOp,f2=f3.ownsGroup;if(!f2){return}try{cP(f2)}finally{bn=null;for(var f1=0;f1<f2.ops.length;f1++){f2.ops[f1].cm.curOp=null}cG(f2)}}function cG(f2){var f1=f2.ops;for(var f0=0;f0<f1.length;f0++){b3(f1[f0])}for(var f0=0;f0<f1.length;f0++){ao(f1[f0])}for(var f0=0;f0<f1.length;f0++){b0(f1[f0])}for(var f0=0;f0<f1.length;f0++){an(f1[f0])}for(var f0=0;f0<f1.length;f0++){eN(f1[f0])}}function b3(f2){var f0=f2.cm,f1=f0.display;if(f2.updateMaxLine){g(f0)}f2.mustUpdate=f2.viewChanged||f2.forceUpdate||f2.scrollTop!=null||f2.scrollToPos&&(f2.scrollToPos.from.line<f1.viewFrom||f2.scrollToPos.to.line>=f1.viewTo)||f1.maxLineChanged&&f0.options.lineWrapping;f2.update=f2.mustUpdate&&new aG(f0,f2.mustUpdate&&{top:f2.scrollTop,ensure:f2.scrollToPos},f2.forceUpdate)}function ao(f0){f0.updatedDisplay=f0.mustUpdate&&D(f0.cm,f0.update)}function b0(f2){var f0=f2.cm,f1=f0.display;if(f2.updatedDisplay){a5(f0)}if(f1.maxLineChanged&&!f0.options.lineWrapping){f2.adjustWidthTo=d3(f0,f1.maxLine,f1.maxLine.text.length).left;f2.maxScrollLeft=Math.max(0,f1.sizer.offsetLeft+f2.adjustWidthTo+bg-f1.scroller.clientWidth)}f2.barMeasure=dq(f0);if(f2.updatedDisplay||f2.selectionChanged){f2.newSelectionNodes=bj(f0)}}function an(f1){var f0=f1.cm;if(f1.adjustWidthTo!=null){f0.display.sizer.style.minWidth=f1.adjustWidthTo+"px";if(f1.maxScrollLeft<f0.doc.scrollLeft){bC(f0,Math.min(f0.display.scroller.scrollLeft,f1.maxScrollLeft),true)}}if(f1.newSelectionNodes){bA(f0,f1.newSelectionNodes)}if(f1.updatedDisplay){dp(f0,f1.barMeasure)}if(f1.updatedDisplay||f1.startHeight!=f0.doc.height){eL(f0,f1.barMeasure)}if(f1.selectionChanged){p(f0)}if(f0.state.focused&&f1.updateInput){fb(f0,f1.typing)}}function eN(f3){var f9=f3.cm,f5=f9.display,f8=f9.doc;if(f3.updatedDisplay){ci(f9,f3.update)}if(f5.wheelStartX!=null&&(f3.scrollTop!=null||f3.scrollLeft!=null||f3.scrollToPos)){f5.wheelStartX=f5.wheelStartY=null}if(f3.scrollTop!=null&&f5.scroller.scrollTop!=f3.scrollTop){var f6=Math.max(0,Math.min(f5.scroller.scrollHeight-f5.scroller.clientHeight,f3.scrollTop));f5.scroller.scrollTop=f5.scrollbarV.scrollTop=f8.scrollTop=f6}if(f3.scrollLeft!=null&&f5.scroller.scrollLeft!=f3.scrollLeft){var f1=Math.max(0,Math.min(f5.scroller.scrollWidth-f5.scroller.clientWidth,f3.scrollLeft));f5.scroller.scrollLeft=f5.scrollbarH.scrollLeft=f8.scrollLeft=f1;er(f9)}if(f3.scrollToPos){var f7=F(f9,fw(f8,f3.scrollToPos.from),fw(f8,f3.scrollToPos.to),f3.scrollToPos.margin);if(f3.scrollToPos.isCursor&&f9.state.focused){dT(f9,f7)}}var f4=f3.maybeHiddenMarkers,f0=f3.maybeUnhiddenMarkers;if(f4){for(var f2=0;f2<f4.length;++f2){if(!f4[f2].lines.length){aC(f4[f2],"hide")}}}if(f0){for(var f2=0;f2<f0.length;++f2){if(f0[f2].lines.length){aC(f0[f2],"unhide")}}}if(f5.wrapper.offsetHeight){f8.scrollTop=f9.display.scroller.scrollTop}if(f3.updatedDisplay&&cU){if(f9.options.lineWrapping){fM(f9,f3.barMeasure)}if(f3.barMeasure.scrollWidth>f3.barMeasure.clientWidth&&f3.barMeasure.scrollWidth<f3.barMeasure.clientWidth+1&&!cM(f9)){eL(f9)}}if(f3.changeObjs){aC(f9,"changes",f9,f3.changeObjs)}}function cI(f0,f1){if(f0.curOp){return f1()}cE(f0);try{return f1()}finally{ak(f0)}}function cW(f0,f1){return function(){if(f0.curOp){return f1.apply(f0,arguments)}cE(f0);try{return f1.apply(f0,arguments)}finally{ak(f0)}}}function c2(f0){return function(){if(this.curOp){return f0.apply(this,arguments)}cE(this);try{return f0.apply(this,arguments)}finally{ak(this)}}}function cA(f0){return function(){var f1=this.cm;if(!f1||f1.curOp){return f0.apply(this,arguments)}cE(f1);try{return f0.apply(this,arguments)}finally{ak(f1)}}}function bt(f2,f0,f1){this.line=f0;this.rest=h(f0);this.size=this.rest?bL(fu(this.rest))-f1+1:1;this.node=this.text=null;this.hidden=fj(f2,f0)}function eI(f0,f6,f5){var f4=[],f2;for(var f3=f6;f3<f5;f3=f2){var f1=new bt(f0.doc,e1(f0.doc,f3),f3);f2=f3+f1.size;f4.push(f1)}return f4}function ag(f7,f5,f6,f8){if(f5==null){f5=f7.doc.first}if(f6==null){f6=f7.doc.first+f7.doc.size}if(!f8){f8=0}var f2=f7.display;if(f8&&f6<f2.viewTo&&(f2.updateLineNumbers==null||f2.updateLineNumbers>f5)){f2.updateLineNumbers=f5}f7.curOp.viewChanged=true;if(f5>=f2.viewTo){if(a3&&aS(f7.doc,f5)<f2.viewTo){ej(f7)}}else{if(f6<=f2.viewFrom){if(a3&&dQ(f7.doc,f6+f8)>f2.viewFrom){ej(f7)}else{f2.viewFrom+=f8;f2.viewTo+=f8}}else{if(f5<=f2.viewFrom&&f6>=f2.viewTo){ej(f7)}else{if(f5<=f2.viewFrom){var f4=c8(f7,f6,f6+f8,1);if(f4){f2.view=f2.view.slice(f4.index);f2.viewFrom=f4.lineN;f2.viewTo+=f8}else{ej(f7)}}else{if(f6>=f2.viewTo){var f4=c8(f7,f5,f5,-1);if(f4){f2.view=f2.view.slice(0,f4.index);f2.viewTo=f4.lineN}else{ej(f7)}}else{var f3=c8(f7,f5,f5,-1);var f1=c8(f7,f6,f6+f8,1);if(f3&&f1){f2.view=f2.view.slice(0,f3.index).concat(eI(f7,f3.lineN,f1.lineN)).concat(f2.view.slice(f1.index));f2.viewTo+=f8}else{ej(f7)}}}}}}var f0=f2.externalMeasured;if(f0){if(f6<f0.lineN){f0.lineN+=f8}else{if(f5<f0.lineN+f0.size){f2.externalMeasured=null}}}}function S(f1,f2,f5){f1.curOp.viewChanged=true;var f6=f1.display,f4=f1.display.externalMeasured;if(f4&&f2>=f4.lineN&&f2<f4.lineN+f4.size){f6.externalMeasured=null}if(f2<f6.viewFrom||f2>=f6.viewTo){return}var f3=f6.view[dh(f1,f2)];if(f3.node==null){return}var f0=f3.changes||(f3.changes=[]);if(db(f0,f5)==-1){f0.push(f5)}}function ej(f0){f0.display.viewFrom=f0.display.viewTo=f0.doc.first;f0.display.view=[];f0.display.viewOffset=0}function dh(f0,f3){if(f3>=f0.display.viewTo){return null}f3-=f0.display.viewFrom;if(f3<0){return null}var f1=f0.display.view;for(var f2=0;f2<f1.length;f2++){f3-=f1[f2].size;if(f3<0){return f2}}}function c8(f8,f2,f4,f1){var f5=dh(f8,f2),f7,f6=f8.display.view;if(!a3||f4==f8.doc.first+f8.doc.size){return{index:f5,lineN:f4}}for(var f3=0,f0=f8.display.viewFrom;f3<f5;f3++){f0+=f6[f3].size}if(f0!=f2){if(f1>0){if(f5==f6.length-1){return null}f7=(f0+f6[f5].size)-f2;f5++}else{f7=f0-f2}f2+=f7;f4+=f7}while(aS(f8.doc,f4)!=f4){if(f5==(f1<0?0:f6.length-1)){return null}f4+=f1*f6[f5-(f1<0?1:0)].size;f5+=f1}return{index:f5,lineN:f4}}function cN(f0,f4,f3){var f2=f0.display,f1=f2.view;if(f1.length==0||f4>=f2.viewTo||f3<=f2.viewFrom){f2.view=eI(f0,f4,f3);f2.viewFrom=f4}else{if(f2.viewFrom>f4){f2.view=eI(f0,f4,f2.viewFrom).concat(f2.view)}else{if(f2.viewFrom<f4){f2.view=f2.view.slice(dh(f0,f4))}}f2.viewFrom=f4;if(f2.viewTo<f3){f2.view=f2.view.concat(eI(f0,f2.viewTo,f3))}else{if(f2.viewTo>f3){f2.view=f2.view.slice(0,dh(f0,f3))}}}f2.viewTo=f3}function c5(f0){var f1=f0.display.view,f4=0;for(var f3=0;f3<f1.length;f3++){var f2=f1[f3];if(!f2.hidden&&(!f2.node||f2.changes)){++f4}}return f4}function bk(f0){if(f0.display.pollingFast){return}f0.display.poll.set(f0.options.pollInterval,function(){cf(f0);if(f0.state.focused){bk(f0)}})}function C(f0){var f1=false;f0.display.pollingFast=true;function f2(){var f3=cf(f0);if(!f3&&!f1){f1=true;f0.display.poll.set(60,f2)}else{f0.display.pollingFast=false;bk(f0)}}f0.display.poll.set(20,f2)}var bi=null;function cf(f4){var f5=f4.display.input,f8=f4.display.prevInput,gj=f4.doc;if(!f4.state.focused||(bq(f5)&&!f8)||ai(f4)||f4.options.disableInput){return false}if(f4.state.pasteIncoming&&f4.state.fakedLastChar){f5.value=f5.value.substring(0,f5.value.length-1);f4.state.fakedLastChar=false}var f7=f5.value;if(f7==f8&&!f4.somethingSelected()){return false}if(dy&&l>=9&&f4.display.inputHasSelection===f7||b5&&/[\uf700-\uf7ff]/.test(f7)){fb(f4);return false}var gf=!f4.curOp;if(gf){cE(f4)}f4.display.shift=false;if(f7.charCodeAt(0)==8203&&gj.sel==f4.display.selForContextMenu&&!f8){f8="\u200b"}var ge=0,gb=Math.min(f8.length,f7.length);while(ge<gb&&f8.charCodeAt(ge)==f7.charCodeAt(ge)){++ge}var f1=f7.slice(ge),f9=aW(f1);var gi=null;if(f4.state.pasteIncoming&&gj.sel.ranges.length>1){if(bi&&bi.join("\n")==f1){gi=gj.sel.ranges.length%bi.length==0&&bQ(bi,aW)}else{if(f9.length==gj.sel.ranges.length){gi=bQ(f9,function(gk){return[gk]})}}}for(var gg=gj.sel.ranges.length-1;gg>=0;gg--){var ga=gj.sel.ranges[gg];var gc=ga.from(),f0=ga.to();if(ge<f8.length){gc=X(gc.line,gc.ch-(f8.length-ge))}else{if(f4.state.overwrite&&ga.empty()&&!f4.state.pasteIncoming){f0=X(f0.line,Math.min(e1(gj,f0.line).text.length,f0.ch+fu(f9).length))}}var f3=f4.curOp.updateInput;var gh={from:gc,to:f0,text:gi?gi[gg%gi.length]:f9,origin:f4.state.pasteIncoming?"paste":f4.state.cutIncoming?"cut":"+input"};bb(f4.doc,gh);ad(f4,"inputRead",f4,gh);if(f1&&!f4.state.pasteIncoming&&f4.options.electricChars&&f4.options.smartIndent&&ga.head.ch<100&&(!gg||gj.sel.ranges[gg-1].head.line!=ga.head.line)){var f6=f4.getModeAt(ga.head);if(f6.electricChars){for(var gd=0;gd<f6.electricChars.length;gd++){if(f1.indexOf(f6.electricChars.charAt(gd))>-1){ac(f4,ga.head.line,"smart");break}}}else{if(f6.electricInput){var f2=cR(gh);if(f6.electricInput.test(e1(gj,f2.line).text.slice(0,f2.ch))){ac(f4,ga.head.line,"smart")}}}}}ft(f4);f4.curOp.updateInput=f3;f4.curOp.typing=true;if(f7.length>1000||f7.indexOf("\n")>-1){f5.value=f4.display.prevInput=""}else{f4.display.prevInput=f7}if(gf){ak(f4)}f4.state.pasteIncoming=f4.state.cutIncoming=false;return true}function fb(f0,f4){var f1,f3,f6=f0.doc;if(f0.somethingSelected()){f0.display.prevInput="";var f2=f6.sel.primary();f1=c4&&(f2.to().line-f2.from().line>100||(f3=f0.getSelection()).length>1000);var f5=f1?"-":f3||f0.getSelection();f0.display.input.value=f5;if(f0.state.focused){dz(f0.display.input)}if(dy&&l>=9){f0.display.inputHasSelection=f5}}else{if(!f4){f0.display.prevInput=f0.display.input.value="";if(dy&&l>=9){f0.display.inputHasSelection=null}}}f0.display.inaccurateSelection=f1}function em(f0){if(f0.options.readOnly!="nocursor"&&(!d2||dB()!=f0.display.input)){f0.display.input.focus()}}function s(f0){if(!f0.state.focused){em(f0);cy(f0)}}function ai(f0){return f0.options.readOnly||f0.doc.cantEdit}function fC(f0){var f2=f0.display;bV(f2.scroller,"mousedown",cW(f0,ef));if(dy&&l<11){bV(f2.scroller,"dblclick",cW(f0,function(f6){if(aO(f0,f6)){return}var f7=cm(f0,f6);if(!f7||m(f0,f6)||a6(f0.display,f6)){return}cC(f6);var f5=av(f0,f7);fG(f0.doc,f5.anchor,f5.head)}))}else{bV(f2.scroller,"dblclick",function(f5){aO(f0,f5)||cC(f5)})}bV(f2.lineSpace,"selectstart",function(f5){if(!a6(f2,f5)){cC(f5)}});if(!fR){bV(f2.scroller,"contextmenu",function(f5){ay(f0,f5)})}bV(f2.scroller,"scroll",function(){if(f2.scroller.clientHeight){O(f0,f2.scroller.scrollTop);bC(f0,f2.scroller.scrollLeft,true);aC(f0,"scroll",f0)}});bV(f2.scrollbarV,"scroll",function(){if(f2.scroller.clientHeight){O(f0,f2.scrollbarV.scrollTop)}});bV(f2.scrollbarH,"scroll",function(){if(f2.scroller.clientHeight){bC(f0,f2.scrollbarH.scrollLeft)}});bV(f2.scroller,"mousewheel",function(f5){b(f0,f5)});bV(f2.scroller,"DOMMouseScroll",function(f5){b(f0,f5)});function f4(){if(f0.state.focused){setTimeout(ct(em,f0),0)}}bV(f2.scrollbarH,"mousedown",f4);bV(f2.scrollbarV,"mousedown",f4);bV(f2.wrapper,"scroll",function(){f2.wrapper.scrollTop=f2.wrapper.scrollLeft=0});bV(f2.input,"keyup",function(f5){bd.call(f0,f5)});bV(f2.input,"input",function(){if(dy&&l>=9&&f0.display.inputHasSelection){f0.display.inputHasSelection=null}C(f0)});bV(f2.input,"keydown",cW(f0,q));bV(f2.input,"keypress",cW(f0,cv));bV(f2.input,"focus",ct(cy,f0));bV(f2.input,"blur",ct(aR,f0));function f1(f5){if(!aO(f0,f5)){ed(f5)}}if(f0.options.dragDrop){bV(f2.scroller,"dragstart",function(f5){R(f0,f5)});bV(f2.scroller,"dragenter",f1);bV(f2.scroller,"dragover",f1);bV(f2.scroller,"drop",cW(f0,bf))}bV(f2.scroller,"paste",function(f5){if(a6(f2,f5)){return}f0.state.pasteIncoming=true;em(f0);C(f0)});bV(f2.input,"paste",function(){if(cU&&!f0.state.fakedLastChar&&!(new Date-f0.state.lastMiddleDown<200)){var f6=f2.input.selectionStart,f5=f2.input.selectionEnd;f2.input.value+="$";f2.input.selectionEnd=f5;f2.input.selectionStart=f6;f0.state.fakedLastChar=true}f0.state.pasteIncoming=true;C(f0)});function f3(f9){if(f0.somethingSelected()){bi=f0.getSelections();if(f2.inaccurateSelection){f2.prevInput="";f2.inaccurateSelection=false;f2.input.value=bi.join("\n");dz(f2.input)}}else{var ga=[],f6=[];for(var f7=0;f7<f0.doc.sel.ranges.length;f7++){var f5=f0.doc.sel.ranges[f7].head.line;var f8={anchor:X(f5,0),head:X(f5+1,0)};f6.push(f8);ga.push(f0.getRange(f8.anchor,f8.head))}if(f9.type=="cut"){f0.setSelections(f6,null,Z)}else{f2.prevInput="";f2.input.value=ga.join("\n");dz(f2.input)}bi=ga}if(f9.type=="cut"){f0.state.cutIncoming=true}}bV(f2.input,"cut",f3);bV(f2.input,"copy",f3);if(a7){bV(f2.sizer,"mouseup",function(){if(dB()==f2.input){f2.input.blur()}em(f0)})}}function aQ(f0){var f1=f0.display;f1.cachedCharWidth=f1.cachedTextHeight=f1.cachedPaddingH=null;f0.setSize()}function a6(f1,f0){for(var f2=M(f0);f2!=f1.wrapper;f2=f2.parentNode){if(!f2||f2.ignoreEvents||f2.parentNode==f1.sizer&&f2!=f1.mover){return true}}}function cm(ga,f4,f1,f2){var f6=ga.display;if(!f1){var f5=M(f4);if(f5==f6.scrollbarH||f5==f6.scrollbarV||f5==f6.scrollbarFiller||f5==f6.gutterFiller){return null}}var f9,f7,f0=f6.lineSpace.getBoundingClientRect();try{f9=f4.clientX-f0.left;f7=f4.clientY-f0.top}catch(f4){return null}var f8=fB(ga,f9,f7),gb;if(f2&&f8.xRel==1&&(gb=e1(ga.doc,f8.line).text).length==f8.ch){var f3=bR(gb,gb.length,ga.options.tabSize)-gb.length;f8=X(f8.line,Math.max(0,Math.round((f9-eR(ga.display).left)/dt(ga.display))-f3))}return f8}function ef(f2){if(aO(this,f2)){return}var f0=this,f1=f0.display;f1.shift=f2.shiftKey;if(a6(f1,f2)){if(!cU){f1.scroller.draggable=false;setTimeout(function(){f1.scroller.draggable=true},100)}return}if(m(f0,f2)){return}var f3=cm(f0,f2);window.focus();switch(fA(f2)){case 1:if(f3){ax(f0,f2,f3)}else{if(M(f2)==f1.scroller){cC(f2)}}break;case 2:if(cU){f0.state.lastMiddleDown=+new Date}if(f3){fG(f0.doc,f3)}setTimeout(ct(em,f0),20);cC(f2);break;case 3:if(fR){ay(f0,f2)}break}}var de,c7;function ax(f1,f5,f6){setTimeout(ct(s,f1),0);var f2=+new Date,f3;if(c7&&c7.time>f2-400&&cd(c7.pos,f6)==0){f3="triple"}else{if(de&&de.time>f2-400&&cd(de.pos,f6)==0){f3="double";c7={time:f2,pos:f6}}else{f3="single";de={time:f2,pos:f6}}}var f4=f1.doc.sel,f0=b5?f5.metaKey:f5.ctrlKey;if(f1.options.dragDrop&&ey&&!ai(f1)&&f3=="single"&&f4.contains(f6)>-1&&f4.somethingSelected()){aZ(f1,f5,f6,f0)}else{n(f1,f5,f6,f3,f0)}}function aZ(f2,f4,f5,f1){var f3=f2.display;var f0=cW(f2,function(f6){if(cU){f3.scroller.draggable=false}f2.state.draggingText=false;dZ(document,"mouseup",f0);dZ(f3.scroller,"drop",f0);if(Math.abs(f4.clientX-f6.clientX)+Math.abs(f4.clientY-f6.clientY)<10){cC(f6);if(!f1){fG(f2.doc,f5)}em(f2);if(dy&&l==9){setTimeout(function(){document.body.focus();em(f2)},20)}}});if(cU){f3.scroller.draggable=true}f2.state.draggingText=f0;if(f3.scroller.dragDrop){f3.scroller.dragDrop()}bV(document,"mouseup",f0);bV(f3.scroller,"drop",f0)}function n(f3,gh,f2,f0,f5){var ge=f3.display,gj=f3.doc;cC(gh);var f1,gi,f4=gj.sel;if(f5&&!gh.shiftKey){gi=gj.sel.contains(f2);if(gi>-1){f1=gj.sel.ranges[gi]}else{f1=new dL(f2,f2)}}else{f1=gj.sel.primary()}if(gh.altKey){f0="rect";if(!f5){f1=new dL(f2,f2)}f2=cm(f3,gh,true,true);gi=-1}else{if(f0=="double"){var gf=av(f3,f2);if(f3.display.shift||gj.extend){f1=fi(gj,f1,gf.anchor,gf.head)}else{f1=gf}}else{if(f0=="triple"){var f8=new dL(X(f2.line,0),fw(gj,X(f2.line+1,0)));if(f3.display.shift||gj.extend){f1=fi(gj,f1,f8.anchor,f8.head)}else{f1=f8}}else{f1=fi(gj,f1,f2)}}}if(!f5){gi=0;bS(gj,new fK([f1],0),N);f4=gj.sel}else{if(gi>-1){e(gj,gi,f1,N)}else{gi=gj.sel.ranges.length;bS(gj,cu(gj.sel.ranges.concat([f1]),gi),{scroll:false,origin:"*mouse"})}}var gd=f2;function gc(gu){if(cd(gd,gu)==0){return}gd=gu;if(f0=="rect"){var gl=[],gr=f3.options.tabSize;var gk=bR(e1(gj,f2.line).text,f2.ch,gr);var gx=bR(e1(gj,gu.line).text,gu.ch,gr);var gm=Math.min(gk,gx),gv=Math.max(gk,gx);for(var gy=Math.min(f2.line,gu.line),go=Math.min(f3.lastLine(),Math.max(f2.line,gu.line));gy<=go;gy++){var gw=e1(gj,gy).text,gn=ec(gw,gm,gr);if(gm==gv){gl.push(new dL(X(gy,gn),X(gy,gn)))}else{if(gw.length>gn){gl.push(new dL(X(gy,gn),X(gy,ec(gw,gv,gr))))}}}if(!gl.length){gl.push(new dL(f2,f2))}bS(gj,cu(f4.ranges.slice(0,gi).concat(gl),gi),{origin:"*mouse",scroll:false});f3.scrollIntoView(gu)}else{var gs=f1;var gp=gs.anchor,gt=gu;if(f0!="single"){if(f0=="double"){var gq=av(f3,gu)}else{var gq=new dL(X(gu.line,0),fw(gj,X(gu.line+1,0)))}if(cd(gq.anchor,gp)>0){gt=gq.head;gp=ap(gs.from(),gq.anchor)}else{gt=gq.anchor;gp=bv(gs.to(),gq.head)}}var gl=f4.ranges.slice(0);gl[gi]=new dL(fw(gj,gp),gt);bS(gj,cu(gl,gi),N)}}var ga=ge.wrapper.getBoundingClientRect();var f6=0;function gg(gm){var gk=++f6;var go=cm(f3,gm,true,f0=="rect");if(!go){return}if(cd(go,gd)!=0){s(f3);gc(go);var gn=b4(ge,gj);if(go.line>=gn.to||go.line<gn.from){setTimeout(cW(f3,function(){if(f6==gk){gg(gm)}}),150)}}else{var gl=gm.clientY<ga.top?-20:gm.clientY>ga.bottom?20:0;if(gl){setTimeout(cW(f3,function(){if(f6!=gk){return}ge.scroller.scrollTop+=gl;gg(gm)}),50)}}}function f9(gk){f6=Infinity;cC(gk);em(f3);dZ(document,"mousemove",gb);dZ(document,"mouseup",f7);gj.history.lastSelOrigin=null}var gb=cW(f3,function(gk){if(!fA(gk)){f9(gk)}else{gg(gk)}});var f7=cW(f3,f9);bV(document,"mousemove",gb);bV(document,"mouseup",f7)}function fY(gb,f7,f9,ga,f3){try{var f1=f7.clientX,f0=f7.clientY}catch(f7){return false}if(f1>=Math.floor(gb.display.gutters.getBoundingClientRect().right)){return false}if(ga){cC(f7)}var f8=gb.display;var f6=f8.lineDiv.getBoundingClientRect();if(f0>f6.bottom||!e4(gb,f9)){return bJ(f7)}f0-=f6.top-f8.viewOffset;for(var f4=0;f4<gb.options.gutters.length;++f4){var f5=f8.gutters.childNodes[f4];if(f5&&f5.getBoundingClientRect().right>=f1){var gc=bE(gb.doc,f0);var f2=gb.options.gutters[f4];f3(gb,f9,gb,gc,f2,f7);return bJ(f7)}}}function m(f0,f1){return fY(f0,f1,"gutterClick",true,ad)}var af=0;function bf(f6){var f8=this;if(aO(f8,f6)||a6(f8.display,f6)){return}cC(f6);if(dy){af=+new Date}var f7=cm(f8,f6,true),f0=f6.dataTransfer.files;if(!f7||ai(f8)){return}if(f0&&f0.length&&window.FileReader&&window.File){var f2=f0.length,f9=Array(f2),f1=0;var f4=function(gc,gb){var ga=new FileReader;ga.onload=cW(f8,function(){f9[gb]=ga.result;if(++f1==f2){f7=fw(f8.doc,f7);var gd={from:f7,to:f7,text:aW(f9.join("\n")),origin:"paste"};bb(f8.doc,gd);eT(f8.doc,eF(f7,cR(gd)))}});ga.readAsText(gc)};for(var f5=0;f5<f2;++f5){f4(f0[f5],f5)}}else{if(f8.state.draggingText&&f8.doc.sel.contains(f7)>-1){f8.state.draggingText(f6);setTimeout(ct(em,f8),20);return}try{var f9=f6.dataTransfer.getData("Text");if(f9){if(f8.state.draggingText&&!(b5?f6.metaKey:f6.ctrlKey)){var f3=f8.listSelections()}eb(f8.doc,eF(f7,f7));if(f3){for(var f5=0;f5<f3.length;++f5){aX(f8.doc,"",f3[f5].anchor,f3[f5].head,"drag")}}f8.replaceSelection(f9,"around","paste");em(f8)}}catch(f6){}}}function R(f0,f2){if(dy&&(!f0.state.draggingText||+new Date-af<100)){ed(f2);return}if(aO(f0,f2)||a6(f0.display,f2)){return}f2.dataTransfer.setData("Text",f0.getSelection());if(f2.dataTransfer.setDragImage&&!aB){var f1=fJ("img",null,null,"position: fixed; left: 0; top: 0;");f1.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(dP){f1.width=f1.height=1;f0.display.wrapper.appendChild(f1);f1._top=f1.offsetTop}f2.dataTransfer.setDragImage(f1,0,0);if(dP){f1.parentNode.removeChild(f1)}}}function O(f0,f1){if(Math.abs(f0.doc.scrollTop-f1)<2){return}f0.doc.scrollTop=f1;if(!cn){dG(f0,{top:f1})}if(f0.display.scroller.scrollTop!=f1){f0.display.scroller.scrollTop=f1}if(f0.display.scrollbarV.scrollTop!=f1){f0.display.scrollbarV.scrollTop=f1}if(cn){dG(f0)}d1(f0,100)}function bC(f0,f2,f1){if(f1?f2==f0.doc.scrollLeft:Math.abs(f0.doc.scrollLeft-f2)<2){return}f2=Math.min(f2,f0.display.scroller.scrollWidth-f0.display.scroller.clientWidth);f0.doc.scrollLeft=f2;er(f0);if(f0.display.scroller.scrollLeft!=f2){f0.display.scroller.scrollLeft=f2}if(f0.display.scrollbarH.scrollLeft!=f2){f0.display.scrollbarH.scrollLeft=f2}}var e8=0,ce=null;if(dy){ce=-0.53}else{if(cn){ce=15}else{if(c6){ce=-0.7}else{if(aB){ce=-1/3}}}}function b(f8,f2){var gb=f2.wheelDeltaX,ga=f2.wheelDeltaY;if(gb==null&&f2.detail&&f2.axis==f2.HORIZONTAL_AXIS){gb=f2.detail}if(ga==null&&f2.detail&&f2.axis==f2.VERTICAL_AXIS){ga=f2.detail}else{if(ga==null){ga=f2.wheelDelta}}var f4=f8.display,f7=f4.scroller;if(!(gb&&f7.scrollWidth>f7.clientWidth||ga&&f7.scrollHeight>f7.clientHeight)){return}if(ga&&b5&&cU){outer:for(var f9=f2.target,f6=f4.view;f9!=f7;f9=f9.parentNode){for(var f1=0;f1<f6.length;f1++){if(f6[f1].node==f9){f8.display.currentWheelTarget=f9;break outer}}}}if(gb&&!cn&&!dP&&ce!=null){if(ga){O(f8,Math.max(0,Math.min(f7.scrollTop+ga*ce,f7.scrollHeight-f7.clientHeight)))}bC(f8,Math.max(0,Math.min(f7.scrollLeft+gb*ce,f7.scrollWidth-f7.clientWidth)));cC(f2);f4.wheelStartX=null;return}if(ga&&ce!=null){var f0=ga*ce;var f5=f8.doc.scrollTop,f3=f5+f4.wrapper.clientHeight;if(f0<0){f5=Math.max(0,f5+f0-50)}else{f3=Math.min(f8.doc.height,f3+f0+50)}dG(f8,{top:f5,bottom:f3})}if(e8<20){if(f4.wheelStartX==null){f4.wheelStartX=f7.scrollLeft;f4.wheelStartY=f7.scrollTop;f4.wheelDX=gb;f4.wheelDY=ga;setTimeout(function(){if(f4.wheelStartX==null){return}var gc=f7.scrollLeft-f4.wheelStartX;var ge=f7.scrollTop-f4.wheelStartY;var gd=(ge&&f4.wheelDY&&ge/f4.wheelDY)||(gc&&f4.wheelDX&&gc/f4.wheelDX);f4.wheelStartX=f4.wheelStartY=null;if(!gd){return}ce=(ce*e8+gd)/(e8+1);++e8},200)}else{f4.wheelDX+=gb;f4.wheelDY+=ga}}}function fD(f1,f4,f0){if(typeof f4=="string"){f4=eq[f4];if(!f4){return false}}if(f1.display.pollingFast&&cf(f1)){f1.display.pollingFast=false}var f3=f1.display.shift,f2=false;try{if(ai(f1)){f1.state.suppressEdits=true}if(f0){f1.display.shift=false}f2=f4(f1)!=b8}finally{f1.display.shift=f3;f1.state.suppressEdits=false}return f2}function dj(f0){var f1=f0.state.keyMaps.slice(0);if(f0.options.extraKeys){f1.push(f0.options.extraKeys)}f1.push(f0.options.keyMap);return f1}var aq;function e5(f0,f6){var f1=fH(f0.options.keyMap),f4=f1.auto;clearTimeout(aq);if(f4&&!ep(f6)){aq=setTimeout(function(){if(fH(f0.options.keyMap)==f1){f0.options.keyMap=(f4.call?f4.call(null,f0):f4);fX(f0)}},50)}var f3=fe(f6,true),f5=false;if(!f3){return false}var f2=dj(f0);if(f6.shiftKey){f5=i("Shift-"+f3,f2,function(f7){return fD(f0,f7,true)})||i(f3,f2,function(f7){if(typeof f7=="string"?/^go[A-Z]/.test(f7):f7.motion){return fD(f0,f7)}})}else{f5=i(f3,f2,function(f7){return fD(f0,f7)})}if(f5){cC(f6);p(f0);ad(f0,"keyHandled",f0,f3,f6)}return f5}function d5(f0,f3,f1){var f2=i("'"+f1+"'",dj(f0),function(f4){return fD(f0,f4,true)});if(f2){cC(f3);p(f0);ad(f0,"keyHandled",f0,"'"+f1+"'",f3)}return f2}var dd=null;function q(f3){var f0=this;s(f0);if(aO(f0,f3)){return}if(dy&&l<11&&f3.keyCode==27){f3.returnValue=false}var f1=f3.keyCode;f0.display.shift=f1==16||f3.shiftKey;var f2=e5(f0,f3);if(dP){dd=f2?f1:null;if(!f2&&f1==88&&!c4&&(b5?f3.metaKey:f3.ctrlKey)){f0.replaceSelection("",null,"cut")}}if(f1==18&&!/\bCodeMirror-crosshair\b/.test(f0.display.lineDiv.className)){au(f0)}}function au(f1){var f2=f1.display.lineDiv;fn(f2,"CodeMirror-crosshair");function f0(f3){if(f3.keyCode==18||!f3.altKey){f(f2,"CodeMirror-crosshair");dZ(document,"keyup",f0);dZ(document,"mouseover",f0)}}bV(document,"keyup",f0);bV(document,"mouseover",f0)}function bd(f0){if(f0.keyCode==16){this.doc.sel.shift=false}aO(this,f0)}function cv(f4){var f0=this;if(aO(f0,f4)||f4.ctrlKey&&!f4.altKey||b5&&f4.metaKey){return}var f3=f4.keyCode,f1=f4.charCode;if(dP&&f3==dd){dd=null;cC(f4);return}if(((dP&&(!f4.which||f4.which<10))||a7)&&e5(f0,f4)){return}var f2=String.fromCharCode(f1==null?f3:f1);if(d5(f0,f4,f2)){return}if(dy&&l>=9){f0.display.inputHasSelection=null}C(f0)}function cy(f0){if(f0.options.readOnly=="nocursor"){return}if(!f0.state.focused){aC(f0,"focus",f0);f0.state.focused=true;fn(f0.display.wrapper,"CodeMirror-focused");if(!f0.curOp&&f0.display.selForContextMenu!=f0.doc.sel){fb(f0);if(cU){setTimeout(ct(fb,f0,true),0)}}}bk(f0);p(f0)}function aR(f0){if(f0.state.focused){aC(f0,"blur",f0);f0.state.focused=false;f(f0.display.wrapper,"CodeMirror-focused")}clearInterval(f0.display.blinker);setTimeout(function(){if(!f0.state.focused){f0.display.shift=false}},150)}function ay(f9,f4){if(aO(f9,f4,"contextmenu")){return}var f6=f9.display;if(a6(f6,f4)||da(f9,f4)){return}var f8=cm(f9,f4),f0=f6.scroller.scrollTop;if(!f8||dP){return}var f3=f9.options.resetSelectionOnContextMenu;if(f3&&f9.doc.sel.contains(f8)==-1){cW(f9,bS)(f9.doc,eF(f8),Z)}var f5=f6.input.style.cssText;f6.inputDiv.style.position="absolute";f6.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(f4.clientY-5)+"px; left: "+(f4.clientX-5)+"px; z-index: 1000; background: "+(dy?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(cU){var ga=window.scrollY}em(f9);if(cU){window.scrollTo(null,ga)}fb(f9);if(!f9.somethingSelected()){f6.input.value=f6.prevInput=" "}f6.selForContextMenu=f9.doc.sel;clearTimeout(f6.detectingSelectAll);function f2(){if(f6.input.selectionStart!=null){var gb=f9.somethingSelected();var gc=f6.input.value="\u200b"+(gb?f6.input.value:"");f6.prevInput=gb?"":"\u200b";f6.input.selectionStart=1;f6.input.selectionEnd=gc.length;f6.selForContextMenu=f9.doc.sel}}function f7(){f6.inputDiv.style.position="relative";f6.input.style.cssText=f5;if(dy&&l<9){f6.scrollbarV.scrollTop=f6.scroller.scrollTop=f0}bk(f9);if(f6.input.selectionStart!=null){if(!dy||(dy&&l<9)){f2()}var gb=0,gc=function(){if(f6.selForContextMenu==f9.doc.sel&&f6.input.selectionStart==0){cW(f9,eq.selectAll)(f9)}else{if(gb++<10){f6.detectingSelectAll=setTimeout(gc,500)}else{fb(f9)}}};f6.detectingSelectAll=setTimeout(gc,200)}}if(dy&&l>=9){f2()}if(fR){ed(f4);var f1=function(){dZ(window,"mouseup",f1);setTimeout(f7,20)};bV(window,"mouseup",f1)}else{setTimeout(f7,50)}}function da(f0,f1){if(!e4(f0,"gutterContextMenu")){return false}return fY(f0,f1,"gutterContextMenu",false,aC)}var cR=J.changeEnd=function(f0){if(!f0.text){return f0.to}return X(f0.from.line+f0.text.length-1,fu(f0.text).length+(f0.text.length==1?f0.from.ch:0))};function bX(f3,f2){if(cd(f3,f2.from)<0){return f3}if(cd(f3,f2.to)<=0){return cR(f2)}var f0=f3.line+f2.text.length-(f2.to.line-f2.from.line)-1,f1=f3.ch;if(f3.line==f2.to.line){f1+=cR(f2).ch-f2.to.ch}return X(f0,f1)}function e6(f3,f4){var f1=[];for(var f2=0;f2<f3.sel.ranges.length;f2++){var f0=f3.sel.ranges[f2];f1.push(new dL(bX(f0.anchor,f4),bX(f0.head,f4)))}return cu(f1,f3.sel.primIndex)}function bs(f2,f1,f0){if(f2.line==f1.line){return X(f0.line,f2.ch-f1.ch+f0.ch)}else{return X(f0.line+(f2.line-f1.line),f2.ch)}}function ae(ga,f7,f1){var f2=[];var f0=X(ga.first,0),gb=f0;for(var f4=0;f4<f7.length;f4++){var f6=f7[f4];var f9=bs(f6.from,f0,gb);var f8=bs(cR(f6),f0,gb);f0=f6.to;gb=f8;if(f1=="around"){var f5=ga.sel.ranges[f4],f3=cd(f5.head,f5.anchor)<0;f2[f4]=new dL(f3?f8:f9,f3?f9:f8)}else{f2[f4]=new dL(f9,f9)}}return new fK(f2,ga.sel.primIndex)}function dE(f1,f3,f2){var f0={canceled:false,from:f3.from,to:f3.to,text:f3.text,origin:f3.origin,cancel:function(){this.canceled=true}};if(f2){f0.update=function(f7,f6,f5,f4){if(f7){this.from=fw(f1,f7)}if(f6){this.to=fw(f1,f6)}if(f5){this.text=f5}if(f4!==undefined){this.origin=f4}}}aC(f1,"beforeChange",f1,f0);if(f1.cm){aC(f1.cm,"beforeChange",f1.cm,f0)}if(f0.canceled){return null}return{from:f0.from,to:f0.to,text:f0.text,origin:f0.origin}}function bb(f3,f4,f2){if(f3.cm){if(!f3.cm.curOp){return cW(f3.cm,bb)(f3,f4,f2)}if(f3.cm.state.suppressEdits){return}}if(e4(f3,"beforeChange")||f3.cm&&e4(f3.cm,"beforeChange")){f4=dE(f3,f4,true);if(!f4){return}}var f1=fU&&!f2&&cD(f3,f4.from,f4.to);if(f1){for(var f0=f1.length-1;f0>=0;--f0){L(f3,{from:f1[f0].from,to:f1[f0].to,text:f0?[""]:f4.text})}}else{L(f3,f4)}}function L(f2,f3){if(f3.text.length==1&&f3.text[0]==""&&cd(f3.from,f3.to)==0){return}var f1=e6(f2,f3);fz(f2,f3,f1,f2.cm?f2.cm.curOp.id:NaN);d0(f2,f3,f1,d6(f2,f3));var f0=[];dU(f2,function(f5,f4){if(!f4&&db(f0,f5.history)==-1){du(f5.history,f3);f0.push(f5.history)}d0(f5,f3,null,d6(f5,f3))})}function b6(gb,f9,gd){if(gb.cm&&gb.cm.state.suppressEdits){return}var f8=gb.history,f2,f4=gb.sel;var f0=f9=="undo"?f8.done:f8.undone,gc=f9=="undo"?f8.undone:f8.done;for(var f5=0;f5<f0.length;f5++){f2=f0[f5];if(gd?f2.ranges&&!f2.equals(gb.sel):!f2.ranges){break}}if(f5==f0.length){return}f8.lastOrigin=f8.lastSelOrigin=null;for(;;){f2=f0.pop();if(f2.ranges){cJ(f2,gc);if(gd&&!f2.equals(gb.sel)){bS(gb,f2,{clearRedo:false});return}f4=f2}else{break}}var f7=[];cJ(f4,gc);gc.push({changes:f7,generation:f8.generation});f8.generation=f2.generation||++f8.maxGeneration;var f3=e4(gb,"beforeChange")||gb.cm&&e4(gb.cm,"beforeChange");for(var f5=f2.changes.length-1;f5>=0;--f5){var ga=f2.changes[f5];ga.origin=f9;if(f3&&!dE(gb,ga,false)){f0.length=0;return}f7.push(dk(gb,ga));var f1=f5?e6(gb,ga):fu(f0);d0(gb,ga,f1,dW(gb,ga));if(!f5&&gb.cm){gb.cm.scrollIntoView(ga)}var f6=[];dU(gb,function(gf,ge){if(!ge&&db(f6,gf.history)==-1){du(gf.history,ga);f6.push(gf.history)}d0(gf,ga,null,dW(gf,ga))})}}function e9(f1,f3){if(f3==0){return}f1.first+=f3;f1.sel=new fK(bQ(f1.sel.ranges,function(f4){return new dL(X(f4.anchor.line+f3,f4.anchor.ch),X(f4.head.line+f3,f4.head.ch))}),f1.sel.primIndex);if(f1.cm){ag(f1.cm,f1.first,f1.first-f3,f3);for(var f2=f1.cm.display,f0=f2.viewFrom;f0<f2.viewTo;f0++){S(f1.cm,f0,"gutter")}}}function d0(f4,f5,f3,f1){if(f4.cm&&!f4.cm.curOp){return cW(f4.cm,d0)(f4,f5,f3,f1)}if(f5.to.line<f4.first){e9(f4,f5.text.length-1-(f5.to.line-f5.from.line));return}if(f5.from.line>f4.lastLine()){return}if(f5.from.line<f4.first){var f0=f5.text.length-1-(f4.first-f5.from.line);e9(f4,f0);f5={from:X(f4.first,0),to:X(f5.to.line+f0,f5.to.ch),text:[fu(f5.text)],origin:f5.origin}}var f2=f4.lastLine();if(f5.to.line>f2){f5={from:f5.from,to:X(f2,e1(f4,f2).text.length),text:[f5.text[0]],origin:f5.origin}}f5.removed=fL(f4,f5.from,f5.to);if(!f3){f3=e6(f4,f5)}if(f4.cm){aH(f4.cm,f5,f1)}else{fl(f4,f5,f1)}eb(f4,f3,Z)}function aH(gb,f7,f5){var ga=gb.doc,f6=gb.display,f8=f7.from,f9=f7.to;var f0=false,f4=f8.line;if(!gb.options.lineWrapping){f4=bL(z(e1(ga,f8.line)));ga.iter(f4,f9.line+1,function(gd){if(gd==f6.maxLine){f0=true;return true}})}if(ga.sel.contains(f7.from,f7.to)>-1){W(gb)}fl(ga,f7,f5,a9(gb));if(!gb.options.lineWrapping){ga.iter(f4,f8.line+f7.text.length,function(ge){var gd=d8(ge);if(gd>f6.maxLineLength){f6.maxLine=ge;f6.maxLineLength=gd;f6.maxLineChanged=true;f0=false}});if(f0){gb.curOp.updateMaxLine=true}}ga.frontier=Math.min(ga.frontier,f8.line);d1(gb,400);var gc=f7.text.length-(f9.line-f8.line)-1;if(f8.line==f9.line&&f7.text.length==1&&!dF(gb.doc,f7)){S(gb,f8.line,"text")}else{ag(gb,f8.line,f9.line+1,gc)}var f2=e4(gb,"changes"),f3=e4(gb,"change");if(f3||f2){var f1={from:f8,to:f9,text:f7.text,removed:f7.removed,origin:f7.origin};if(f3){ad(gb,"change",gb,f1)}if(f2){(gb.curOp.changeObjs||(gb.curOp.changeObjs=[])).push(f1)}}gb.display.selForContextMenu=null}function aX(f3,f2,f5,f4,f0){if(!f4){f4=f5}if(cd(f4,f5)<0){var f1=f4;f4=f5;f5=f1}if(typeof f2=="string"){f2=aW(f2)}bb(f3,{from:f5,to:f4,text:f2,origin:f0})}function dT(f1,f4){var f5=f1.display,f2=f5.sizer.getBoundingClientRect(),f0=null;if(f4.top+f2.top<0){f0=true}else{if(f4.bottom+f2.top>(window.innerHeight||document.documentElement.clientHeight)){f0=false}}if(f0!=null&&!fh){var f3=fJ("div","\u200b",null,"position: absolute; top: "+(f4.top-f5.viewOffset-eU(f1.display))+"px; height: "+(f4.bottom-f4.top+bg)+"px; left: "+f4.left+"px; width: 2px;");f1.display.lineSpace.appendChild(f3);f3.scrollIntoView(f0);f1.display.lineSpace.removeChild(f3)}}function F(f9,f7,f4,f3){if(f3==null){f3=0}for(;;){var f5=false,f8=dH(f9,f7);var f0=!f4||f4==f7?f8:dH(f9,f4);var f2=I(f9,Math.min(f8.left,f0.left),Math.min(f8.top,f0.top)-f3,Math.max(f8.left,f0.left),Math.max(f8.bottom,f0.bottom)+f3);var f6=f9.doc.scrollTop,f1=f9.doc.scrollLeft;if(f2.scrollTop!=null){O(f9,f2.scrollTop);if(Math.abs(f9.doc.scrollTop-f6)>1){f5=true}}if(f2.scrollLeft!=null){bC(f9,f2.scrollLeft);if(Math.abs(f9.doc.scrollLeft-f1)>1){f5=true}}if(!f5){return f8}}}function G(f0,f2,f4,f1,f3){var f5=I(f0,f2,f4,f1,f3);if(f5.scrollTop!=null){O(f0,f5.scrollTop)}if(f5.scrollLeft!=null){bC(f0,f5.scrollLeft)}}function I(f6,ge,f3,gd,f2){var gb=f6.display,ga=aT(f6.display);if(f3<0){f3=0}var f9=f6.curOp&&f6.curOp.scrollTop!=null?f6.curOp.scrollTop:gb.scroller.scrollTop;var f1=gb.scroller.clientHeight-bg,f8={};var gg=f6.doc.height+bG(gb);var gh=f3<ga,gc=f2>gg-ga;if(f3<f9){f8.scrollTop=gh?0:f3}else{if(f2>f9+f1){var f7=Math.min(f3,(gc?gg:f2)-f1);if(f7!=f9){f8.scrollTop=f7}}}var f0=f6.curOp&&f6.curOp.scrollLeft!=null?f6.curOp.scrollLeft:gb.scroller.scrollLeft;var f5=gb.scroller.clientWidth-bg;ge+=gb.gutters.offsetWidth;gd+=gb.gutters.offsetWidth;var f4=gb.gutters.offsetWidth;var gf=ge<f4+10;if(ge<f0+f4||gf){if(gf){ge=0}f8.scrollLeft=Math.max(0,ge-10-f4)}else{if(gd>f5+f0-3){f8.scrollLeft=gd+10-f5}}return f8}function cH(f0,f2,f1){if(f2!=null||f1!=null){fp(f0)}if(f2!=null){f0.curOp.scrollLeft=(f0.curOp.scrollLeft==null?f0.doc.scrollLeft:f0.curOp.scrollLeft)+f2}if(f1!=null){f0.curOp.scrollTop=(f0.curOp.scrollTop==null?f0.doc.scrollTop:f0.curOp.scrollTop)+f1}}function ft(f0){fp(f0);var f1=f0.getCursor(),f3=f1,f2=f1;if(!f0.options.lineWrapping){f3=f1.ch?X(f1.line,f1.ch-1):f1;f2=X(f1.line,f1.ch+1)}f0.curOp.scrollToPos={from:f3,to:f2,margin:f0.options.cursorScrollMargin,isCursor:true}}function fp(f0){var f2=f0.curOp.scrollToPos;if(f2){f0.curOp.scrollToPos=null;var f4=dx(f0,f2.from),f3=dx(f0,f2.to);var f1=I(f0,Math.min(f4.left,f3.left),Math.min(f4.top,f3.top)-f2.margin,Math.max(f4.right,f3.right),Math.max(f4.bottom,f3.bottom)+f2.margin);f0.scrollTo(f1.scrollLeft,f1.scrollTop)}}function ac(gd,f3,gc,f2){var gb=gd.doc,f1;if(gc==null){gc="add"}if(gc=="smart"){if(!gb.mode.indent){gc="prev"}else{f1=dr(gd,f3)}}var f7=gd.options.tabSize;var ge=e1(gb,f3),f6=bR(ge.text,null,f7);if(ge.stateAfter){ge.stateAfter=null}var f0=ge.text.match(/^\s*/)[0],f9;if(!f2&&!/\S/.test(ge.text)){f9=0;gc="not"}else{if(gc=="smart"){f9=gb.mode.indent(f1,ge.text.slice(f0.length),ge.text);if(f9==b8||f9>150){if(!f2){return}gc="prev"}}}if(gc=="prev"){if(f3>gb.first){f9=bR(e1(gb,f3-1).text,null,f7)}else{f9=0}}else{if(gc=="add"){f9=f6+gd.options.indentUnit}else{if(gc=="subtract"){f9=f6-gd.options.indentUnit}else{if(typeof gc=="number"){f9=f6+gc}}}}f9=Math.max(0,f9);var ga="",f8=0;if(gd.options.indentWithTabs){for(var f4=Math.floor(f9/f7);f4;--f4){f8+=f7;ga+="\t"}}if(f8<f9){ga+=co(f9-f8)}if(ga!=f0){aX(gb,ga,X(f3,0),X(f3,f0.length),"+input")}else{for(var f4=0;f4<gb.sel.ranges.length;f4++){var f5=gb.sel.ranges[f4];if(f5.head.line==f3&&f5.head.ch<f0.length){var f8=X(f3,f0.length);e(gb,f4,new dL(f8,f8));break}}}ge.stateAfter=null}function el(f3,f2,f0,f5){var f4=f2,f1=f2;if(typeof f2=="number"){f1=e1(f3,cZ(f3,f2))}else{f4=bL(f2)}if(f4==null){return null}if(f5(f1,f4)&&f3.cm){S(f3.cm,f4,f0)}return f1}function eK(f0,f6){var f1=f0.doc.sel.ranges,f4=[];for(var f3=0;f3<f1.length;f3++){var f2=f6(f1[f3]);while(f4.length&&cd(f2.from,fu(f4).to)<=0){var f5=f4.pop();if(cd(f5.from,f2.from)<0){f2.from=f5.from;break}}f4.push(f2)}cI(f0,function(){for(var f7=f4.length-1;f7>=0;f7--){aX(f0.doc,"",f4[f7].from,f4[f7].to,"+delete")}ft(f0)})}function bu(gi,f4,gc,gb,f6){var f9=f4.line,ga=f4.ch,gh=gc;var f1=e1(gi,f9);var gf=true;function gg(){var gj=f9+gc;if(gj<gi.first||gj>=gi.first+gi.size){return(gf=false)}f9=gj;return f1=e1(gi,gj)}function ge(gk){var gj=(f6?v:ah)(f1,ga,gc,true);if(gj==null){if(!gk&&gg()){if(f6){ga=(gc<0?cO:cB)(f1)}else{ga=gc<0?f1.text.length:0}}else{return(gf=false)}}else{ga=gj}return true}if(gb=="char"){ge()}else{if(gb=="column"){ge(true)}else{if(gb=="word"||gb=="group"){var gd=null,f7=gb=="group";var f0=gi.cm&&gi.cm.getHelper(f4,"wordChars");for(var f5=true;;f5=false){if(gc<0&&!ge(!f5)){break}var f2=f1.text.charAt(ga)||"\n";var f3=cx(f2,f0)?"w":f7&&f2=="\n"?"n":!f7||/\s/.test(f2)?null:"p";if(f7&&!f5&&!f3){f3="s"}if(gd&&gd!=f3){if(gc<0){gc=1;ge()}break}if(f3){gd=f3}if(gc>0&&!ge(!f5)){break}}}}}var f8=bT(gi,X(f9,ga),gh,true);if(!gf){f8.hitSide=true}return f8}function bo(f8,f3,f0,f7){var f6=f8.doc,f5=f3.left,f4;if(f7=="page"){var f2=Math.min(f8.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);f4=f3.top+f0*(f2-(f0<0?1.5:0.5)*aT(f8.display))}else{if(f7=="line"){f4=f0>0?f3.bottom+3:f3.top-3}}for(;;){var f1=fB(f8,f5,f4);if(!f1.outside){break}if(f0<0?f4<=0:f4>=f6.height){f1.hitSide=true;break}f4+=f0*5}return f1}function av(f6,f4){var f5=f6.doc,f7=e1(f5,f4.line).text;var f1=f4.ch,f3=f4.ch;if(f7){var f2=f6.getHelper(f4,"wordChars");if((f4.xRel<0||f3==f7.length)&&f1){--f1}else{++f3}var f8=f7.charAt(f1);var f0=cx(f8,f2)?function(f9){return cx(f9,f2)}:/\s/.test(f8)?function(f9){return/\s/.test(f9)}:function(f9){return !/\s/.test(f9)&&!cx(f9)};while(f1>0&&f0(f7.charAt(f1-1))){--f1}while(f3<f7.length&&f0(f7.charAt(f3))){++f3}}return new dL(X(f4.line,f1),X(f4.line,f3))}J.prototype={constructor:J,focus:function(){window.focus();em(this);C(this)},setOption:function(f2,f3){var f1=this.options,f0=f1[f2];if(f1[f2]==f3&&f2!="mode"){return}f1[f2]=f3;if(ba.hasOwnProperty(f2)){cW(this,ba[f2])(this,f3,f0)}},getOption:function(f0){return this.options[f0]},getDoc:function(){return this.doc},addKeyMap:function(f1,f0){this.state.keyMaps[f0?"push":"unshift"](f1)},removeKeyMap:function(f1){var f2=this.state.keyMaps;for(var f0=0;f0<f2.length;++f0){if(f2[f0]==f1||(typeof f2[f0]!="string"&&f2[f0].name==f1)){f2.splice(f0,1);return true}}},addOverlay:c2(function(f0,f1){var f2=f0.token?f0:J.getMode(this.options,f0);if(f2.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:f2,modeSpec:f0,opaque:f1&&f1.opaque});this.state.modeGen++;ag(this)}),removeOverlay:c2(function(f0){var f2=this.state.overlays;for(var f1=0;f1<f2.length;++f1){var f3=f2[f1].modeSpec;if(f3==f0||typeof f0=="string"&&f3.name==f0){f2.splice(f1,1);this.state.modeGen++;ag(this);return}}}),indentLine:c2(function(f2,f0,f1){if(typeof f0!="string"&&typeof f0!="number"){if(f0==null){f0=this.options.smartIndent?"smart":"prev"}else{f0=f0?"add":"subtract"}}if(b7(this.doc,f2)){ac(this,f2,f0,f1)}}),indentSelection:c2(function(f5){var f1=this.doc.sel.ranges,f0=-1;for(var f4=0;f4<f1.length;f4++){var f2=f1[f4];if(!f2.empty()){var f7=Math.max(f0,f2.from().line);var f6=f2.to();f0=Math.min(this.lastLine(),f6.line-(f6.ch?0:1))+1;for(var f3=f7;f3<f0;++f3){ac(this,f3,f5)}}else{if(f2.head.line>f0){ac(this,f2.head.line,f5,true);f0=f2.head.line;if(f4==this.doc.sel.primIndex){ft(this)}}}}}),getTokenAt:function(f7,f1){var f4=this.doc;f7=fw(f4,f7);var f3=dr(this,f7.line,f1),f6=this.doc.mode;var f0=e1(f4,f7.line);var f5=new eG(f0.text,this.options.tabSize);while(f5.pos<f7.ch&&!f5.eol()){f5.start=f5.pos;var f2=eo(f6,f5,f3)}return{start:f5.start,end:f5.pos,string:f5.current(),type:f2||null,state:f3}},getTokenTypeAt:function(f7){f7=fw(this.doc,f7);var f3=c0(this,e1(this.doc,f7.line));var f5=0,f6=(f3.length-1)/2,f2=f7.ch;var f1;if(f2==0){f1=f3[2]}else{for(;;){var f0=(f5+f6)>>1;if((f0?f3[f0*2-1]:0)>=f2){f6=f0}else{if(f3[f0*2+1]<f2){f5=f0+1}else{f1=f3[f0*2+2];break}}}}var f4=f1?f1.indexOf("cm-overlay "):-1;return f4<0?f1:f4==0?null:f1.slice(0,f4-1)},getModeAt:function(f1){var f0=this.doc.mode;if(!f0.innerMode){return f0}return J.innerMode(f0,this.getTokenAt(f1).state).mode},getHelper:function(f1,f0){return this.getHelpers(f1,f0)[0]},getHelpers:function(f7,f2){var f3=[];if(!fa.hasOwnProperty(f2)){return fa}var f0=fa[f2],f6=this.getModeAt(f7);if(typeof f6[f2]=="string"){if(f0[f6[f2]]){f3.push(f0[f6[f2]])}}else{if(f6[f2]){for(var f1=0;f1<f6[f2].length;f1++){var f5=f0[f6[f2][f1]];if(f5){f3.push(f5)}}}else{if(f6.helperType&&f0[f6.helperType]){f3.push(f0[f6.helperType])}else{if(f0[f6.name]){f3.push(f0[f6.name])}}}}for(var f1=0;f1<f0._global.length;f1++){var f4=f0._global[f1];if(f4.pred(f6,this)&&db(f3,f4.val)==-1){f3.push(f4.val)}}return f3},getStateAfter:function(f1,f0){var f2=this.doc;f1=cZ(f2,f1==null?f2.first+f2.size-1:f1);return dr(this,f1+1,f0)},cursorCoords:function(f3,f1){var f2,f0=this.doc.sel.primary();if(f3==null){f2=f0.head}else{if(typeof f3=="object"){f2=fw(this.doc,f3)}else{f2=f3?f0.from():f0.to()}}return dH(this,f2,f1||"page")},charCoords:function(f1,f0){return cF(this,fw(this.doc,f1),f0||"page")},coordsChar:function(f0,f1){f0=fW(this,f0,f1||"page");return fB(this,f0.left,f0.top)},lineAtHeight:function(f0,f1){f0=fW(this,{top:f0,left:0},f1||"page").top;return bE(this.doc,f0+this.display.viewOffset)},heightAtLine:function(f1,f4){var f0=false,f3=this.doc.first+this.doc.size-1;if(f1<this.doc.first){f1=this.doc.first}else{if(f1>f3){f1=f3;f0=true}}var f2=e1(this.doc,f1);return eD(this,f2,{top:0,left:0},f4||"page").top+(f0?this.doc.height-bK(f2):0)},defaultTextHeight:function(){return aT(this.display)},defaultCharWidth:function(){return dt(this.display)},setGutterMarker:c2(function(f0,f1,f2){return el(this.doc,f0,"gutter",function(f3){var f4=f3.gutterMarkers||(f3.gutterMarkers={});f4[f1]=f2;if(!f2&&eH(f4)){f3.gutterMarkers=null}return true})}),clearGutter:c2(function(f2){var f0=this,f3=f0.doc,f1=f3.first;f3.iter(function(f4){if(f4.gutterMarkers&&f4.gutterMarkers[f2]){f4.gutterMarkers[f2]=null;S(f0,f1,"gutter");if(eH(f4.gutterMarkers)){f4.gutterMarkers=null}}++f1})}),addLineWidget:c2(function(f2,f1,f0){return bF(this,f2,f1,f0)}),removeLineWidget:function(f0){f0.clear()},lineInfo:function(f0){if(typeof f0=="number"){if(!b7(this.doc,f0)){return null}var f1=f0;f0=e1(this.doc,f0);if(!f0){return null}}else{var f1=bL(f0);if(f1==null){return null}}return{line:f1,handle:f0,text:f0.text,gutterMarkers:f0.gutterMarkers,textClass:f0.textClass,bgClass:f0.bgClass,wrapClass:f0.wrapClass,widgets:f0.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f5,f2,f7,f3,f9){var f4=this.display;f5=dH(this,fw(this.doc,f5));var f6=f5.bottom,f1=f5.left;f2.style.position="absolute";f4.sizer.appendChild(f2);if(f3=="over"){f6=f5.top}else{if(f3=="above"||f3=="near"){var f0=Math.max(f4.wrapper.clientHeight,this.doc.height),f8=Math.max(f4.sizer.clientWidth,f4.lineSpace.clientWidth);if((f3=="above"||f5.bottom+f2.offsetHeight>f0)&&f5.top>f2.offsetHeight){f6=f5.top-f2.offsetHeight}else{if(f5.bottom+f2.offsetHeight<=f0){f6=f5.bottom}}if(f1+f2.offsetWidth>f8){f1=f8-f2.offsetWidth}}}f2.style.top=f6+"px";f2.style.left=f2.style.right="";if(f9=="right"){f1=f4.sizer.clientWidth-f2.offsetWidth;f2.style.right="0px"}else{if(f9=="left"){f1=0}else{if(f9=="middle"){f1=(f4.sizer.clientWidth-f2.offsetWidth)/2}}f2.style.left=f1+"px"}if(f7){G(this,f1,f6,f1+f2.offsetWidth,f6+f2.offsetHeight)}},triggerOnKeyDown:c2(q),triggerOnKeyPress:c2(cv),triggerOnKeyUp:bd,execCommand:function(f0){if(eq.hasOwnProperty(f0)){return eq[f0](this)}},findPosH:function(f6,f3,f4,f1){var f0=1;if(f3<0){f0=-1;f3=-f3}for(var f2=0,f5=fw(this.doc,f6);f2<f3;++f2){f5=bu(this.doc,f5,f0,f4,f1);if(f5.hitSide){break}}return f5},moveH:c2(function(f1,f2){var f0=this;f0.extendSelectionsBy(function(f3){if(f0.display.shift||f0.doc.extend||f3.empty()){return bu(f0.doc,f3.head,f1,f2,f0.options.rtlMoveVisually)}else{return f1<0?f3.from():f3.to()}},cQ)}),deleteH:c2(function(f0,f1){var f2=this.doc.sel,f3=this.doc;if(f2.somethingSelected()){f3.replaceSelection("",null,"+delete")}else{eK(this,function(f5){var f4=bu(f3,f5.head,f0,f1,false);return f0<0?{from:f4,to:f5.head}:{from:f5.head,to:f4}})}}),findPosV:function(f5,f2,f6,f8){var f0=1,f4=f8;if(f2<0){f0=-1;f2=-f2}for(var f1=0,f7=fw(this.doc,f5);f1<f2;++f1){var f3=dH(this,f7,"div");if(f4==null){f4=f3.left}else{f3.left=f4}f7=bo(this,f3,f0,f6);if(f7.hitSide){break}}return f7},moveV:c2(function(f1,f3){var f0=this,f5=this.doc,f4=[];var f6=!f0.display.shift&&!f5.extend&&f5.sel.somethingSelected();f5.extendSelectionsBy(function(f7){if(f6){return f1<0?f7.from():f7.to()}var f9=dH(f0,f7.head,"div");if(f7.goalColumn!=null){f9.left=f7.goalColumn}f4.push(f9.left);var f8=bo(f0,f9,f1,f3);if(f3=="page"&&f7==f5.sel.primary()){cH(f0,null,cF(f0,f8,"div").top-f9.top)}return f8},cQ);if(f4.length){for(var f2=0;f2<f5.sel.ranges.length;f2++){f5.sel.ranges[f2].goalColumn=f4[f2]}}}),toggleOverwrite:function(f0){if(f0!=null&&f0==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){fn(this.display.cursorDiv,"CodeMirror-overwrite")}else{f(this.display.cursorDiv,"CodeMirror-overwrite")}aC(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return dB()==this.display.input},scrollTo:c2(function(f0,f1){if(f0!=null||f1!=null){fp(this)}if(f0!=null){this.curOp.scrollLeft=f0}if(f1!=null){this.curOp.scrollTop=f1}}),getScrollInfo:function(){var f0=this.display.scroller,f1=bg;return{left:f0.scrollLeft,top:f0.scrollTop,height:f0.scrollHeight-f1,width:f0.scrollWidth-f1,clientHeight:f0.clientHeight-f1,clientWidth:f0.clientWidth-f1}},scrollIntoView:c2(function(f1,f2){if(f1==null){f1={from:this.doc.sel.primary().head,to:null};if(f2==null){f2=this.options.cursorScrollMargin}}else{if(typeof f1=="number"){f1={from:X(f1,0),to:null}}else{if(f1.from==null){f1={from:f1,to:null}}}}if(!f1.to){f1.to=f1.from}f1.margin=f2||0;if(f1.from.line!=null){fp(this);this.curOp.scrollToPos=f1}else{var f0=I(this,Math.min(f1.from.left,f1.to.left),Math.min(f1.from.top,f1.to.top)-f1.margin,Math.max(f1.from.right,f1.to.right),Math.max(f1.from.bottom,f1.to.bottom)+f1.margin);this.scrollTo(f0.scrollLeft,f0.scrollTop)}}),setSize:c2(function(f3,f1){var f0=this;function f2(f5){return typeof f5=="number"||/^\d+$/.test(String(f5))?f5+"px":f5}if(f3!=null){f0.display.wrapper.style.width=f2(f3)}if(f1!=null){f0.display.wrapper.style.height=f2(f1)}if(f0.options.lineWrapping){aL(this)}var f4=f0.display.viewFrom;f0.doc.iter(f4,f0.display.viewTo,function(f5){if(f5.widgets){for(var f6=0;f6<f5.widgets.length;f6++){if(f5.widgets[f6].noHScroll){S(f0,f4,"widget");break}}}++f4});f0.curOp.forceUpdate=true;aC(f0,"refresh",this)}),operation:function(f0){return cI(this,f0)},refresh:c2(function(){var f0=this.display.cachedTextHeight;ag(this);this.curOp.forceUpdate=true;aj(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);cY(this);if(f0==null||Math.abs(f0-aT(this.display))>0.5){Y(this)}aC(this,"refresh",this)}),swapDoc:c2(function(f1){var f0=this.doc;f0.cm=null;dX(this,f1);aj(this);fb(this);this.scrollTo(f1.scrollLeft,f1.scrollTop);ad(this,"swapDoc",this,f0);return f0}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};bw(J);var eQ=J.defaults={};var ba=J.optionHandlers={};function t(f0,f3,f2,f1){J.defaults[f0]=f3;if(f2){ba[f0]=f1?function(f4,f6,f5){if(f5!=ca){f2(f4,f6,f5)}}:f2}}var ca=J.Init={toString:function(){return"CodeMirror.Init"}};t("value","",function(f0,f1){f0.setValue(f1)},true);t("mode",null,function(f0,f1){f0.doc.modeOption=f1;bp(f0)},true);t("indentUnit",2,bp,true);t("indentWithTabs",false);t("smartIndent",true);t("tabSize",4,function(f0){d7(f0);aj(f0);ag(f0)},true);t("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(f0,f1){f0.options.specialChars=new RegExp(f1.source+(f1.test("\t")?"":"|\t"),"g");f0.refresh()},true);t("specialCharPlaceholder",eY,function(f0){f0.refresh()},true);t("electricChars",true);t("rtlMoveVisually",!aM);t("wholeLineUpdateBefore",true);t("theme","default",function(f0){cK(f0);dl(f0)},true);t("keyMap","default",fX);t("extraKeys",null);t("lineWrapping",false,et,true);t("gutters",[],function(f0){cc(f0.options);dl(f0)},true);t("fixedGutter",true,function(f0,f1){f0.display.gutters.style.left=f1?dK(f0.display)+"px":"0";f0.refresh()},true);t("coverGutterNextToScrollbar",false,eL,true);t("lineNumbers",false,function(f0){cc(f0.options);dl(f0)},true);t("firstLineNumber",1,dl,true);t("lineNumberFormatter",function(f0){return f0},dl,true);t("showCursorWhenSelecting",false,bA,true);t("resetSelectionOnContextMenu",true);t("readOnly",false,function(f0,f1){if(f1=="nocursor"){aR(f0);f0.display.input.blur();f0.display.disabled=true}else{f0.display.disabled=false;if(!f1){fb(f0)}}});t("disableInput",false,function(f0,f1){if(!f1){fb(f0)}},true);t("dragDrop",true);t("cursorBlinkRate",530);t("cursorScrollMargin",0);t("cursorHeight",1,bA,true);t("singleCursorHeightPerLine",true,bA,true);t("workTime",100);t("workDelay",100);t("flattenSpans",true,d7,true);t("addModeClass",false,d7,true);t("pollInterval",100);t("undoDepth",200,function(f0,f1){f0.doc.history.undoDepth=f1});t("historyEventDelay",1250);t("viewportMargin",10,function(f0){f0.refresh()},true);t("maxHighlightLength",10000,d7,true);t("moveInputWithCursor",true,function(f0,f1){if(!f1){f0.display.inputDiv.style.top=f0.display.inputDiv.style.left=0}});t("tabindex",null,function(f0,f1){f0.display.input.tabIndex=f1||""});t("autofocus",null);var di=J.modes={},aP=J.mimeModes={};J.defineMode=function(f0,f2){if(!J.defaults.mode&&f0!="null"){J.defaults.mode=f0}if(arguments.length>2){f2.dependencies=[];for(var f1=2;f1<arguments.length;++f1){f2.dependencies.push(arguments[f1])}}di[f0]=f2};J.defineMIME=function(f1,f0){aP[f1]=f0};J.resolveMode=function(f0){if(typeof f0=="string"&&aP.hasOwnProperty(f0)){f0=aP[f0]}else{if(f0&&typeof f0.name=="string"&&aP.hasOwnProperty(f0.name)){var f1=aP[f0.name];if(typeof f1=="string"){f1={name:f1}}f0=cj(f1,f0);f0.name=f1.name}else{if(typeof f0=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f0)){return J.resolveMode("application/xml")}}}if(typeof f0=="string"){return{name:f0}}else{return f0||{name:"null"}}};J.getMode=function(f1,f0){var f0=J.resolveMode(f0);var f3=di[f0.name];if(!f3){return J.getMode(f1,"text/plain")}var f4=f3(f1,f0);if(df.hasOwnProperty(f0.name)){var f2=df[f0.name];for(var f5 in f2){if(!f2.hasOwnProperty(f5)){continue}if(f4.hasOwnProperty(f5)){f4["_"+f5]=f4[f5]}f4[f5]=f2[f5]}}f4.name=f0.name;if(f0.helperType){f4.helperType=f0.helperType}if(f0.modeProps){for(var f5 in f0.modeProps){f4[f5]=f0.modeProps[f5]}}return f4};J.defineMode("null",function(){return{token:function(f0){f0.skipToEnd()}}});J.defineMIME("text/plain","null");var df=J.modeExtensions={};J.extendMode=function(f2,f1){var f0=df.hasOwnProperty(f2)?df[f2]:(df[f2]={});aK(f1,f0)};J.defineExtension=function(f0,f1){J.prototype[f0]=f1};J.defineDocExtension=function(f0,f1){ar.prototype[f0]=f1};J.defineOption=t;var a4=[];J.defineInitHook=function(f0){a4.push(f0)};var fa=J.helpers={};J.registerHelper=function(f1,f0,f2){if(!fa.hasOwnProperty(f1)){fa[f1]=J[f1]={_global:[]}}fa[f1][f0]=f2};J.registerGlobalHelper=function(f2,f1,f0,f3){J.registerHelper(f2,f1,f3);fa[f2]._global.push({pred:f0,val:f3})};var b1=J.copyState=function(f3,f0){if(f0===true){return f0}if(f3.copyState){return f3.copyState(f0)}var f2={};for(var f4 in f0){var f1=f0[f4];if(f1 instanceof Array){f1=f1.concat([])}f2[f4]=f1}return f2};var bY=J.startState=function(f2,f1,f0){return f2.startState?f2.startState(f1,f0):true};J.innerMode=function(f2,f0){while(f2.innerMode){var f1=f2.innerMode(f0);if(!f1||f1.mode==f2){break}f0=f1.state;f2=f1.mode}return f1||{mode:f2,state:f0}};var eq=J.commands={selectAll:function(f0){f0.setSelection(X(f0.firstLine(),0),X(f0.lastLine()),Z)},singleSelection:function(f0){f0.setSelection(f0.getCursor("anchor"),f0.getCursor("head"),Z)},killLine:function(f0){eK(f0,function(f2){if(f2.empty()){var f1=e1(f0.doc,f2.head.line).text.length;if(f2.head.ch==f1&&f2.head.line<f0.lastLine()){return{from:f2.head,to:X(f2.head.line+1,0)}}else{return{from:f2.head,to:X(f2.head.line,f1)}}}else{return{from:f2.from(),to:f2.to()}}})},deleteLine:function(f0){eK(f0,function(f1){return{from:X(f1.from().line,0),to:fw(f0.doc,X(f1.to().line+1,0))}})},delLineLeft:function(f0){eK(f0,function(f1){return{from:X(f1.from().line,0),to:f1.from()}})},delWrappedLineLeft:function(f0){eK(f0,function(f1){var f3=f0.charCoords(f1.head,"div").top+5;var f2=f0.coordsChar({left:0,top:f3},"div");return{from:f2,to:f1.from()}})},delWrappedLineRight:function(f0){eK(f0,function(f1){var f3=f0.charCoords(f1.head,"div").top+5;var f2=f0.coordsChar({left:f0.display.lineDiv.offsetWidth+100,top:f3},"div");return{from:f1.from(),to:f2}})},undo:function(f0){f0.undo()},redo:function(f0){f0.redo()},undoSelection:function(f0){f0.undoSelection()},redoSelection:function(f0){f0.redoSelection()},goDocStart:function(f0){f0.extendSelection(X(f0.firstLine(),0))},goDocEnd:function(f0){f0.extendSelection(X(f0.lastLine()))},goLineStart:function(f0){f0.extendSelectionsBy(function(f1){return br(f0,f1.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(f0){f0.extendSelectionsBy(function(f3){var f6=br(f0,f3.head.line);var f2=f0.getLineHandle(f6.line);var f1=a(f2);if(!f1||f1[0].level==0){var f5=Math.max(0,f2.text.search(/\S/));var f4=f3.head.line==f6.line&&f3.head.ch<=f5&&f3.head.ch;return X(f6.line,f4?0:f5)}return f6},{origin:"+move",bias:1})},goLineEnd:function(f0){f0.extendSelectionsBy(function(f1){return dC(f0,f1.head.line)},{origin:"+move",bias:-1})},goLineRight:function(f0){f0.extendSelectionsBy(function(f1){var f2=f0.charCoords(f1.head,"div").top+5;return f0.coordsChar({left:f0.display.lineDiv.offsetWidth+100,top:f2},"div")},cQ)},goLineLeft:function(f0){f0.extendSelectionsBy(function(f1){var f2=f0.charCoords(f1.head,"div").top+5;return f0.coordsChar({left:0,top:f2},"div")},cQ)},goLineUp:function(f0){f0.moveV(-1,"line")},goLineDown:function(f0){f0.moveV(1,"line")},goPageUp:function(f0){f0.moveV(-1,"page")},goPageDown:function(f0){f0.moveV(1,"page")},goCharLeft:function(f0){f0.moveH(-1,"char")},goCharRight:function(f0){f0.moveH(1,"char")},goColumnLeft:function(f0){f0.moveH(-1,"column")},goColumnRight:function(f0){f0.moveH(1,"column")},goWordLeft:function(f0){f0.moveH(-1,"word")},goGroupRight:function(f0){f0.moveH(1,"group")},goGroupLeft:function(f0){f0.moveH(-1,"group")},goWordRight:function(f0){f0.moveH(1,"word")},delCharBefore:function(f0){f0.deleteH(-1,"char")},delCharAfter:function(f0){f0.deleteH(1,"char")},delWordBefore:function(f0){f0.deleteH(-1,"word")},delWordAfter:function(f0){f0.deleteH(1,"word")},delGroupBefore:function(f0){f0.deleteH(-1,"group")},delGroupAfter:function(f0){f0.deleteH(1,"group")},indentAuto:function(f0){f0.indentSelection("smart")},indentMore:function(f0){f0.indentSelection("add")},indentLess:function(f0){f0.indentSelection("subtract")},insertTab:function(f0){f0.replaceSelection("\t")},insertSoftTab:function(f0){var f2=[],f1=f0.listSelections(),f5=f0.options.tabSize;for(var f4=0;f4<f1.length;f4++){var f6=f1[f4].from();var f3=bR(f0.getLine(f6.line),f6.ch,f5);f2.push(new Array(f5-f3%f5+1).join(" "))}f0.replaceSelections(f2)},defaultTab:function(f0){if(f0.somethingSelected()){f0.indentSelection("add")}else{f0.execCommand("insertTab")}},transposeChars:function(f0){cI(f0,function(){var f3=f0.listSelections(),f2=[];for(var f4=0;f4<f3.length;f4++){var f6=f3[f4].head,f1=e1(f0.doc,f6.line).text;if(f1){if(f6.ch==f1.length){f6=new X(f6.line,f6.ch-1)}if(f6.ch>0){f6=new X(f6.line,f6.ch+1);f0.replaceRange(f1.charAt(f6.ch-1)+f1.charAt(f6.ch-2),X(f6.line,f6.ch-2),f6,"+transpose")}else{if(f6.line>f0.doc.first){var f5=e1(f0.doc,f6.line-1).text;if(f5){f0.replaceRange(f1.charAt(0)+"\n"+f5.charAt(f5.length-1),X(f6.line-1,f5.length-1),X(f6.line,1),"+transpose")}}}}f2.push(new dL(f6,f6))}f0.setSelections(f2)})},newlineAndIndent:function(f0){cI(f0,function(){var f1=f0.listSelections().length;for(var f3=0;f3<f1;f3++){var f2=f0.listSelections()[f3];f0.replaceRange("\n",f2.anchor,f2.head,"+input");f0.indentLine(f2.from().line+1,null,true);ft(f0)}})},toggleOverwrite:function(f0){f0.toggleOverwrite()}};var eW=J.keyMap={};eW.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};eW.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};eW.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};eW.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};eW["default"]=b5?eW.macDefault:eW.pcDefault;function fH(f0){if(typeof f0=="string"){return eW[f0]}else{return f0}}var i=J.lookupKey=function(f1,f5,f3){function f4(ga){ga=fH(ga);var f9=ga[f1];if(f9===false){return"stop"}if(f9!=null&&f3(f9)){return true}if(ga.nofallthrough){return"stop"}var f8=ga.fallthrough;if(f8==null){return false}if(Object.prototype.toString.call(f8)!="[object Array]"){return f4(f8)}for(var f7=0;f7<f8.length;++f7){var f6=f4(f8[f7]);if(f6){return f6}}return false}for(var f2=0;f2<f5.length;++f2){var f0=f4(f5[f2]);if(f0){return f0!="stop"}}};var ep=J.isModifierKey=function(f1){var f0=e2[f1.keyCode];return f0=="Ctrl"||f0=="Alt"||f0=="Shift"||f0=="Mod"};var fe=J.keyName=function(f1,f2){if(dP&&f1.keyCode==34&&f1["char"]){return false}var f0=e2[f1.keyCode];if(f0==null||f1.altGraphKey){return false}if(f1.altKey){f0="Alt-"+f0}if(bO?f1.metaKey:f1.ctrlKey){f0="Ctrl-"+f0}if(bO?f1.ctrlKey:f1.metaKey){f0="Cmd-"+f0}if(!f2&&f1.shiftKey){f0="Shift-"+f0}return f0};J.fromTextArea=function(f7,f8){if(!f8){f8={}}f8.value=f7.value;if(!f8.tabindex&&f7.tabindex){f8.tabindex=f7.tabindex}if(!f8.placeholder&&f7.placeholder){f8.placeholder=f7.placeholder}if(f8.autofocus==null){var f0=dB();f8.autofocus=f0==f7||f7.getAttribute("autofocus")!=null&&f0==document.body}function f4(){f7.value=f6.getValue()}if(f7.form){bV(f7.form,"submit",f4);if(!f8.leaveSubmitMethodAlone){var f1=f7.form,f5=f1.submit;try{var f3=f1.submit=function(){f4();f1.submit=f5;f1.submit();f1.submit=f3}}catch(f2){}}}f7.style.display="none";var f6=J(function(f9){f7.parentNode.insertBefore(f9,f7.nextSibling)},f8);f6.save=f4;f6.getTextArea=function(){return f7};f6.toTextArea=function(){f4();f7.parentNode.removeChild(f6.getWrapperElement());f7.style.display="";if(f7.form){dZ(f7.form,"submit",f4);if(typeof f7.form.submit=="function"){f7.form.submit=f5}}};return f6};var eG=J.StringStream=function(f0,f1){this.pos=this.start=0;this.string=f0;this.tabSize=f1||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};eG.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(f0){var f2=this.string.charAt(this.pos);if(typeof f0=="string"){var f1=f2==f0}else{var f1=f2&&(f0.test?f0.test(f2):f0(f2))}if(f1){++this.pos;return f2}},eatWhile:function(f0){var f1=this.pos;while(this.eat(f0)){}return this.pos>f1},eatSpace:function(){var f0=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>f0},skipToEnd:function(){this.pos=this.string.length},skipTo:function(f0){var f1=this.string.indexOf(f0,this.pos);if(f1>-1){this.pos=f1;return true}},backUp:function(f0){this.pos-=f0},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bR(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?bR(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return bR(this.string,null,this.tabSize)-(this.lineStart?bR(this.string,this.lineStart,this.tabSize):0)},match:function(f4,f1,f0){if(typeof f4=="string"){var f5=function(f6){return f0?f6.toLowerCase():f6};var f3=this.string.substr(this.pos,f4.length);if(f5(f3)==f5(f4)){if(f1!==false){this.pos+=f4.length}return true}}else{var f2=this.string.slice(this.pos).match(f4);if(f2&&f2.index>0){return null}if(f2&&f1!==false){this.pos+=f2[0].length}return f2}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(f1,f0){this.lineStart+=f1;try{return f0()}finally{this.lineStart-=f1}}};var Q=J.TextMarker=function(f1,f0){this.lines=[];this.type=f0;this.doc=f1};bw(Q);Q.prototype.clear=function(){if(this.explicitlyCleared){return}var f7=this.doc.cm,f1=f7&&!f7.curOp;if(f1){cE(f7)}if(e4(this,"clear")){var f8=this.find();if(f8){ad(this,"clear",f8.from,f8.to)}}var f2=null,f5=null;for(var f3=0;f3<this.lines.length;++f3){var f9=this.lines[f3];var f6=eV(f9.markedSpans,this);if(f7&&!this.collapsed){S(f7,bL(f9),"text")}else{if(f7){if(f6.to!=null){f5=bL(f9)}if(f6.from!=null){f2=bL(f9)}}}f9.markedSpans=eu(f9.markedSpans,f6);if(f6.from==null&&this.collapsed&&!fj(this.doc,f9)&&f7){fN(f9,aT(f7.display))}}if(f7&&this.collapsed&&!f7.options.lineWrapping){for(var f3=0;f3<this.lines.length;++f3){var f0=z(this.lines[f3]),f4=d8(f0);if(f4>f7.display.maxLineLength){f7.display.maxLine=f0;f7.display.maxLineLength=f4;f7.display.maxLineChanged=true}}}if(f2!=null&&f7&&this.collapsed){ag(f7,f2,f5+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(f7){ek(f7.doc)}}if(f7){ad(f7,"markerCleared",f7,this)}if(f1){ak(f7)}if(this.parent){this.parent.clear()}};Q.prototype.find=function(f3,f1){if(f3==null&&this.type=="bookmark"){f3=1}var f6,f5;for(var f2=0;f2<this.lines.length;++f2){var f0=this.lines[f2];var f4=eV(f0.markedSpans,this);if(f4.from!=null){f6=X(f1?f0:bL(f0),f4.from);if(f3==-1){return f6}}if(f4.to!=null){f5=X(f1?f0:bL(f0),f4.to);if(f3==1){return f5}}}return f6&&{from:f6,to:f5}};Q.prototype.changed=function(){var f2=this.find(-1,true),f1=this,f0=this.doc.cm;if(!f2||!f0){return}cI(f0,function(){var f4=f2.line,f5=bL(f2.line);var f3=eX(f0,f5);if(f3){at(f3);f0.curOp.selectionChanged=f0.curOp.forceUpdate=true}f0.curOp.updateMaxLine=true;if(!fj(f1.doc,f4)&&f1.height!=null){var f7=f1.height;f1.height=null;var f6=cS(f1)-f7;if(f6){fN(f4,f4.height+f6)}}})};Q.prototype.attachLine=function(f0){if(!this.lines.length&&this.doc.cm){var f1=this.doc.cm.curOp;if(!f1.maybeHiddenMarkers||db(f1.maybeHiddenMarkers,this)==-1){(f1.maybeUnhiddenMarkers||(f1.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(f0)};Q.prototype.detachLine=function(f0){this.lines.splice(db(this.lines,f0),1);if(!this.lines.length&&this.doc.cm){var f1=this.doc.cm.curOp;(f1.maybeHiddenMarkers||(f1.maybeHiddenMarkers=[])).push(this)}};var a1=0;function es(f8,f6,f7,ga,f4){if(ga&&ga.shared){return P(f8,f6,f7,ga,f4)}if(f8.cm&&!f8.cm.curOp){return cW(f8.cm,es)(f8,f6,f7,ga,f4)}var f3=new Q(f8,f4),f9=cd(f6,f7);if(ga){aK(ga,f3,false)}if(f9>0||f9==0&&f3.clearWhenEmpty!==false){return f3}if(f3.replacedWith){f3.collapsed=true;f3.widgetNode=fJ("span",[f3.replacedWith],"CodeMirror-widget");if(!ga.handleMouseEvents){f3.widgetNode.ignoreEvents=true}if(ga.insertLeft){f3.widgetNode.insertLeft=true}}if(f3.collapsed){if(A(f8,f6.line,f6,f7,f3)||f6.line!=f7.line&&A(f8,f7.line,f6,f7,f3)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}a3=true}if(f3.addToHistory){fz(f8,{from:f6,to:f7,origin:"markText"},f8.sel,NaN)}var f1=f6.line,f5=f8.cm,f0;f8.iter(f1,f7.line+1,function(gb){if(f5&&f3.collapsed&&!f5.options.lineWrapping&&z(gb)==f5.display.maxLine){f0=true}if(f3.collapsed&&f1!=f6.line){fN(gb,0)}cb(gb,new d4(f3,f1==f6.line?f6.ch:null,f1==f7.line?f7.ch:null));++f1});if(f3.collapsed){f8.iter(f6.line,f7.line+1,function(gb){if(fj(f8,gb)){fN(gb,0)}})}if(f3.clearOnEnter){bV(f3,"beforeCursorEnter",function(){f3.clear()})}if(f3.readOnly){fU=true;if(f8.history.done.length||f8.history.undone.length){f8.clearHistory()}}if(f3.collapsed){f3.id=++a1;f3.atomic=true}if(f5){if(f0){f5.curOp.updateMaxLine=true}if(f3.collapsed){ag(f5,f6.line,f7.line+1)}else{if(f3.className||f3.title||f3.startStyle||f3.endStyle){for(var f2=f6.line;f2<=f7.line;f2++){S(f5,f2,"text")}}}if(f3.atomic){ek(f5.doc)}ad(f5,"markerAdded",f5,f3)}return f3}var y=J.SharedTextMarker=function(f2,f1){this.markers=f2;this.primary=f1;for(var f0=0;f0<f2.length;++f0){f2[f0].parent=this}};bw(y);y.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var f0=0;f0<this.markers.length;++f0){this.markers[f0].clear()}ad(this,"clear")};y.prototype.find=function(f1,f0){return this.primary.find(f1,f0)};function P(f4,f7,f6,f0,f2){f0=aK(f0);f0.shared=false;var f5=[es(f4,f7,f6,f0,f2)],f1=f5[0];var f3=f0.widgetNode;dU(f4,function(f9){if(f3){f0.widgetNode=f3.cloneNode(true)}f5.push(es(f9,fw(f9,f7),fw(f9,f6),f0,f2));for(var f8=0;f8<f9.linked.length;++f8){if(f9.linked[f8].isParent){return}}f1=fu(f5)});return new y(f5,f1)}function eC(f0){return f0.findMarks(X(f0.first,0),f0.clipPos(X(f0.lastLine())),function(f1){return f1.parent})}function dv(f5,f6){for(var f3=0;f3<f6.length;f3++){var f1=f6[f3],f7=f1.find();var f0=f5.clipPos(f7.from),f4=f5.clipPos(f7.to);if(cd(f0,f4)){var f2=es(f5,f0,f4,f1.primary,f1.primary.type);f1.markers.push(f2);f2.parent=f1}}}function ea(f3){for(var f2=0;f2<f3.length;f2++){var f0=f3[f2],f5=[f0.primary.doc];dU(f0.primary.doc,function(f6){f5.push(f6)});for(var f1=0;f1<f0.markers.length;f1++){var f4=f0.markers[f1];if(db(f5,f4.doc)==-1){f4.parent=null;f0.markers.splice(f1--,1)}}}}function d4(f0,f2,f1){this.marker=f0;this.from=f2;this.to=f1}function eV(f2,f0){if(f2){for(var f1=0;f1<f2.length;++f1){var f3=f2[f1];if(f3.marker==f0){return f3}}}}function eu(f1,f2){for(var f3,f0=0;f0<f1.length;++f0){if(f1[f0]!=f2){(f3||(f3=[])).push(f1[f0])}}return f3}function cb(f0,f1){f0.markedSpans=f0.markedSpans?f0.markedSpans.concat([f1]):[f1];f1.marker.attachLine(f0)}function aN(f1,f2,f6){if(f1){for(var f4=0,f7;f4<f1.length;++f4){var f8=f1[f4],f5=f8.marker;var f0=f8.from==null||(f5.inclusiveLeft?f8.from<=f2:f8.from<f2);if(f0||f8.from==f2&&f5.type=="bookmark"&&(!f6||!f8.marker.insertLeft)){var f3=f8.to==null||(f5.inclusiveRight?f8.to>=f2:f8.to>f2);(f7||(f7=[])).push(new d4(f5,f8.from,f3?null:f8.to))}}}return f7}function aA(f1,f3,f6){if(f1){for(var f4=0,f7;f4<f1.length;++f4){var f8=f1[f4],f5=f8.marker;var f2=f8.to==null||(f5.inclusiveRight?f8.to>=f3:f8.to>f3);if(f2||f8.from==f3&&f5.type=="bookmark"&&(!f6||f8.marker.insertLeft)){var f0=f8.from==null||(f5.inclusiveLeft?f8.from<=f3:f8.from<f3);(f7||(f7=[])).push(new d4(f5,f0?null:f8.from-f3,f8.to==null?null:f8.to-f3))}}}return f7}function d6(gc,f9){var f8=b7(gc,f9.from.line)&&e1(gc,f9.from.line).markedSpans;var gf=b7(gc,f9.to.line)&&e1(gc,f9.to.line).markedSpans;if(!f8&&!gf){return null}var f1=f9.from.ch,f4=f9.to.ch,f7=cd(f9.from,f9.to)==0;var f6=aN(f8,f1,f7);var ge=aA(gf,f4,f7);var gd=f9.text.length==1,f2=fu(f9.text).length+(gd?f1:0);if(f6){for(var f3=0;f3<f6.length;++f3){var gb=f6[f3];if(gb.to==null){var gg=eV(ge,gb.marker);if(!gg){gb.to=f1}else{if(gd){gb.to=gg.to==null?null:gg.to+f2}}}}}if(ge){for(var f3=0;f3<ge.length;++f3){var gb=ge[f3];if(gb.to!=null){gb.to+=f2}if(gb.from==null){var gg=eV(f6,gb.marker);if(!gg){gb.from=f2;if(gd){(f6||(f6=[])).push(gb)}}}else{gb.from+=f2;if(gd){(f6||(f6=[])).push(gb)}}}}if(f6){f6=r(f6)}if(ge&&ge!=f6){ge=r(ge)}var f5=[f6];if(!gd){var ga=f9.text.length-2,f0;if(ga>0&&f6){for(var f3=0;f3<f6.length;++f3){if(f6[f3].to==null){(f0||(f0=[])).push(new d4(f6[f3].marker,null,null))}}}for(var f3=0;f3<ga;++f3){f5.push(f0)}f5.push(ge)}return f5}function r(f1){for(var f0=0;f0<f1.length;++f0){var f2=f1[f0];if(f2.from!=null&&f2.from==f2.to&&f2.marker.clearWhenEmpty!==false){f1.splice(f0--,1)}}if(!f1.length){return null}return f1}function dW(f8,f6){var f0=b2(f8,f6);var f9=d6(f8,f6);if(!f0){return f9}if(!f9){return f0}for(var f3=0;f3<f0.length;++f3){var f4=f0[f3],f5=f9[f3];if(f4&&f5){spans:for(var f2=0;f2<f5.length;++f2){var f7=f5[f2];for(var f1=0;f1<f4.length;++f1){if(f4[f1].marker==f7.marker){continue spans}}f4.push(f7)}}else{if(f5){f0[f3]=f5}}}return f0}function cD(gc,ga,gb){var f4=null;gc.iter(ga.line,gb.line+1,function(gd){if(gd.markedSpans){for(var ge=0;ge<gd.markedSpans.length;++ge){var gf=gd.markedSpans[ge].marker;if(gf.readOnly&&(!f4||db(f4,gf)==-1)){(f4||(f4=[])).push(gf)}}}});if(!f4){return null}var f5=[{from:ga,to:gb}];for(var f6=0;f6<f4.length;++f6){var f7=f4[f6],f2=f7.find(0);for(var f3=0;f3<f5.length;++f3){var f1=f5[f3];if(cd(f1.to,f2.from)<0||cd(f1.from,f2.to)>0){continue}var f9=[f3,1],f0=cd(f1.from,f2.from),f8=cd(f1.to,f2.to);if(f0<0||!f7.inclusiveLeft&&!f0){f9.push({from:f1.from,to:f2.from})}if(f8>0||!f7.inclusiveRight&&!f8){f9.push({from:f2.to,to:f1.to})}f5.splice.apply(f5,f9);f3+=f9.length-1}}return f5}function fQ(f0){var f2=f0.markedSpans;if(!f2){return}for(var f1=0;f1<f2.length;++f1){f2[f1].marker.detachLine(f0)}f0.markedSpans=null}function cX(f0,f2){if(!f2){return}for(var f1=0;f1<f2.length;++f1){f2[f1].marker.attachLine(f0)}f0.markedSpans=f2}function w(f0){return f0.inclusiveLeft?-1:0}function bU(f0){return f0.inclusiveRight?1:0}function dD(f3,f1){var f5=f3.lines.length-f1.lines.length;if(f5!=0){return f5}var f2=f3.find(),f6=f1.find();var f0=cd(f2.from,f6.from)||w(f3)-w(f1);if(f0){return -f0}var f4=cd(f2.to,f6.to)||bU(f3)-bU(f1);if(f4){return f4}return f1.id-f3.id}function a2(f1,f5){var f0=a3&&f1.markedSpans,f4;if(f0){for(var f3,f2=0;f2<f0.length;++f2){f3=f0[f2];if(f3.marker.collapsed&&(f5?f3.from:f3.to)==null&&(!f4||dD(f4,f3.marker)<0)){f4=f3.marker}}}return f4}function eB(f0){return a2(f0,true)}function eh(f0){return a2(f0,false)}function A(f8,f2,f6,f7,f4){var gb=e1(f8,f2);var f0=a3&&gb.markedSpans;if(f0){for(var f3=0;f3<f0.length;++f3){var f1=f0[f3];if(!f1.marker.collapsed){continue}var ga=f1.marker.find(0);var f9=cd(ga.from,f6)||w(f1.marker)-w(f4);var f5=cd(ga.to,f7)||bU(f1.marker)-bU(f4);if(f9>=0&&f5<=0||f9<=0&&f5>=0){continue}if(f9<=0&&(cd(ga.to,f6)>0||(f1.marker.inclusiveRight&&f4.inclusiveLeft))||f9>=0&&(cd(ga.from,f7)<0||(f1.marker.inclusiveLeft&&f4.inclusiveRight))){return true}}}}function z(f1){var f0;while(f0=eB(f1)){f1=f0.find(-1,true).line}return f1}function h(f2){var f0,f1;while(f0=eh(f2)){f2=f0.find(1,true).line;(f1||(f1=[])).push(f2)}return f1}function aS(f3,f1){var f0=e1(f3,f1),f2=z(f0);if(f0==f2){return f1}return bL(f2)}function dQ(f3,f2){if(f2>f3.lastLine()){return f2}var f1=e1(f3,f2),f0;if(!fj(f3,f1)){return f2}while(f0=eh(f1)){f1=f0.find(1,true).line}return bL(f1)+1}function fj(f4,f1){var f0=a3&&f1.markedSpans;if(f0){for(var f3,f2=0;f2<f0.length;++f2){f3=f0[f2];if(!f3.marker.collapsed){continue}if(f3.from==null){return true}if(f3.marker.widgetNode){continue}if(f3.from==0&&f3.marker.inclusiveLeft&&U(f4,f1,f3)){return true}}}}function U(f5,f1,f3){if(f3.to==null){var f0=f3.marker.find(1,true);return U(f5,f0.line,eV(f0.line.markedSpans,f3.marker))}if(f3.marker.inclusiveRight&&f3.to==f1.text.length){return true}for(var f4,f2=0;f2<f1.markedSpans.length;++f2){f4=f1.markedSpans[f2];if(f4.marker.collapsed&&!f4.marker.widgetNode&&f4.from==f3.to&&(f4.to==null||f4.to!=f3.from)&&(f4.marker.inclusiveLeft||f3.marker.inclusiveRight)&&U(f5,f1,f4)){return true}}}var ds=J.LineWidget=function(f0,f3,f1){if(f1){for(var f2 in f1){if(f1.hasOwnProperty(f2)){this[f2]=f1[f2]}}}this.cm=f0;this.node=f3};bw(ds);function dN(f0,f1,f2){if(bK(f1)<((f0.curOp&&f0.curOp.scrollTop)||f0.doc.scrollTop)){cH(f0,null,f2)}}ds.prototype.clear=function(){var f1=this.cm,f3=this.line.widgets,f2=this.line,f5=bL(f2);if(f5==null||!f3){return}for(var f4=0;f4<f3.length;++f4){if(f3[f4]==this){f3.splice(f4--,1)}}if(!f3.length){f2.widgets=null}var f0=cS(this);cI(f1,function(){dN(f1,f2,-f0);S(f1,f5,"widget");fN(f2,Math.max(0,f2.height-f0))})};ds.prototype.changed=function(){var f1=this.height,f0=this.cm,f2=this.line;this.height=null;var f3=cS(this)-f1;if(!f3){return}cI(f0,function(){f0.curOp.forceUpdate=true;dN(f0,f2,f3);fN(f2,f2.height+f3)})};function cS(f1){if(f1.height!=null){return f1.height}if(!fS(document.body,f1.node)){var f0="position: relative;";if(f1.coverGutter){f0+="margin-left: -"+f1.cm.getGutterElement().offsetWidth+"px;"}bP(f1.cm.display.measure,fJ("div",[f1.node],null,f0))}return f1.height=f1.node.offsetHeight}function bF(f0,f4,f2,f1){var f3=new ds(f0,f2,f1);if(f3.noHScroll){f0.display.alignWidgets=true}el(f0.doc,f4,"widget",function(f6){var f7=f6.widgets||(f6.widgets=[]);if(f3.insertAt==null){f7.push(f3)}else{f7.splice(Math.min(f7.length-1,Math.max(0,f3.insertAt)),0,f3)}f3.line=f6;if(!fj(f0.doc,f6)){var f5=bK(f6)<f0.doc.scrollTop;fN(f6,f6.height+cS(f3));if(f5){cH(f0,null,f3.height)}f0.curOp.forceUpdate=true}return true});return f3}var fP=J.Line=function(f2,f1,f0){this.text=f2;cX(this,f1);this.height=f0?f0(this):1};bw(fP);fP.prototype.lineNo=function(){return bL(this)};function d9(f1,f4,f2,f0){f1.text=f4;if(f1.stateAfter){f1.stateAfter=null}if(f1.styles){f1.styles=null}if(f1.order!=null){f1.order=null}fQ(f1);cX(f1,f2);var f3=f0?f0(f1):1;if(f3!=f1.height){fN(f1,f3)}}function bz(f0){f0.parent=null;fQ(f0)}function dc(f2,f1){if(f2){for(;;){var f0=f2.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f0){break}f2=f2.slice(0,f0.index)+f2.slice(f0.index+f0[0].length);var f3=f0[1]?"bgClass":"textClass";if(f1[f3]==null){f1[f3]=f0[2]}else{if(!(new RegExp("(?:^|s)"+f0[2]+"(?:$|s)")).test(f1[f3])){f1[f3]+=" "+f0[2]}}}}return f2}function fd(f2,f1){if(f2.blankLine){return f2.blankLine(f1)}if(!f2.innerMode){return}var f0=J.innerMode(f2,f1);if(f0.mode.blankLine){return f0.mode.blankLine(f0.state)}}function eo(f4,f3,f2){for(var f0=0;f0<10;f0++){var f1=f4.token(f3,f2);if(f3.pos>f3.start){return f1}}throw new Error("Mode "+f4.name+" failed to advance stream.")}function x(ga,gc,f5,f1,f6,f3,f4){var f2=f5.flattenSpans;if(f2==null){f2=ga.options.flattenSpans}var f8=0,f7=null;var gb=new eG(gc,ga.options.tabSize),f0;if(gc==""){dc(fd(f5,f1),f3)}while(!gb.eol()){if(gb.pos>ga.options.maxHighlightLength){f2=false;if(f4){dm(ga,gc,f1,gb.pos)}gb.pos=gc.length;f0=null}else{f0=dc(eo(f5,gb,f1),f3)}if(ga.options.addModeClass){var gd=J.innerMode(f5,f1).mode.name;if(gd){f0="m-"+(f0?gd+" "+f0:gd)}}if(!f2||f7!=f0){if(f8<gb.start){f6(gb.start,f7)}f8=gb.start;f7=f0}gb.start=gb.pos}while(f8<gb.pos){var f9=Math.min(gb.pos,f8+50000);f6(f9,f7);f8=f9}}function fm(f7,f9,f0,f4){var f8=[f7.state.modeGen],f3={};x(f7,f9.text,f7.doc.mode,f0,function(ga,gb){f8.push(ga,gb)},f3,f4);for(var f1=0;f1<f7.state.overlays.length;++f1){var f5=f7.state.overlays[f1],f6=1,f2=0;x(f7,f9.text,f5.mode,true,function(ga,gc){var ge=f6;while(f2<ga){var gb=f8[f6];if(gb>ga){f8.splice(f6,1,ga,f8[f6+1],gb)}f6+=2;f2=Math.min(ga,gb)}if(!gc){return}if(f5.opaque){f8.splice(ge,f6-ge,ga,"cm-overlay "+gc);f6=ge+2}else{for(;ge<f6;ge+=2){var gd=f8[ge+1];f8[ge+1]=(gd?gd+" ":"")+"cm-overlay "+gc}}},f3)}return{styles:f8,classes:f3.bgClass||f3.textClass?f3:null}}function c0(f1,f2){if(!f2.styles||f2.styles[0]!=f1.state.modeGen){var f0=fm(f1,f2,f2.stateAfter=dr(f1,bL(f2)));f2.styles=f0.styles;if(f0.classes){f2.styleClasses=f0.classes}else{if(f2.styleClasses){f2.styleClasses=null}}}return f2.styles}function dm(f0,f5,f2,f1){var f4=f0.doc.mode;var f3=new eG(f5,f0.options.tabSize);f3.start=f3.pos=f1||0;if(f5==""){fd(f4,f2)}while(!f3.eol()&&f3.pos<=f0.options.maxHighlightLength){eo(f4,f3,f2);f3.start=f3.pos}}var dJ={},bZ={};function eJ(f2,f1){if(!f2||/^\s*$/.test(f2)){return null}var f0=f1.addModeClass?bZ:dJ;return f0[f2]||(f0[f2]=f2.replace(/\S+/g,"cm-$&"))}function eE(f1,f5){var f6=fJ("span",null,null,cU?"padding-right: .1px":null);var f3={pre:fJ("pre",[f6]),content:f6,col:0,pos:0,cm:f1};f5.measure={};for(var f4=0;f4<=(f5.rest?f5.rest.length:0);f4++){var f2=f4?f5.rest[f4-1]:f5.line,f0;f3.pos=0;f3.addToken=u;if((dy||cU)&&f1.getOption("lineWrapping")){f3.addToken=fs(f3.addToken)}if(bM(f1.display.measure)&&(f0=a(f2))){f3.addToken=V(f3.addToken,f0)}f3.map=[];bm(f2,f3,c0(f1,f2));if(f2.styleClasses){if(f2.styleClasses.bgClass){f3.bgClass=fE(f2.styleClasses.bgClass,f3.bgClass||"")}if(f2.styleClasses.textClass){f3.textClass=fE(f2.styleClasses.textClass,f3.textClass||"")}}if(f3.map.length==0){f3.map.push(0,0,f3.content.appendChild(bl(f1.display.measure)))}if(f4==0){f5.measure.map=f3.map;f5.measure.cache={}}else{(f5.measure.maps||(f5.measure.maps=[])).push(f3.map);(f5.measure.caches||(f5.measure.caches=[])).push({})}}aC(f1,"renderLine",f1,f5.line,f3.pre);if(f3.pre.className){f3.textClass=fE(f3.pre.className,f3.textClass||"")}return f3}function eY(f1){var f0=fJ("span","\u2022","cm-invalidchar");f0.title="\\u"+f1.charCodeAt(0).toString(16);return f0}function u(f5,gf,f0,f3,gg,ge){if(!gf){return}var ga=f5.cm.options.specialChars,f9=false;if(!ga.test(gf)){f5.col+=gf.length;var f8=document.createTextNode(gf);f5.map.push(f5.pos,f5.pos+gf.length,f8);if(dy&&l<9){f9=true}f5.pos+=gf.length}else{var f8=document.createDocumentFragment(),gc=0;while(true){ga.lastIndex=gc;var f1=ga.exec(gf);var f7=f1?f1.index-gc:gf.length-gc;if(f7){var f4=document.createTextNode(gf.slice(gc,gc+f7));if(dy&&l<9){f8.appendChild(fJ("span",[f4]))}else{f8.appendChild(f4)}f5.map.push(f5.pos,f5.pos+f7,f4);f5.col+=f7;f5.pos+=f7}if(!f1){break}gc+=f7+1;if(f1[0]=="\t"){var f6=f5.cm.options.tabSize,gb=f6-f5.col%f6;var f4=f8.appendChild(fJ("span",co(gb),"cm-tab"));f5.col+=gb}else{var f4=f5.cm.options.specialCharPlaceholder(f1[0]);if(dy&&l<9){f8.appendChild(fJ("span",[f4]))}else{f8.appendChild(f4)}f5.col+=1}f5.map.push(f5.pos,f5.pos+1,f4);f5.pos++}}if(f0||f3||gg||f9){var gd=f0||"";if(f3){gd+=f3}if(gg){gd+=gg}var f2=fJ("span",[f8],gd);if(ge){f2.title=ge}return f5.content.appendChild(f2)}f5.content.appendChild(f8)}function fs(f0){function f1(f2){var f3=" ";for(var f4=0;f4<f2.length-2;++f4){f3+=f4%2?" ":"\u00a0"}f3+=" ";return f3}return function(f3,f7,f4,f2,f6,f5){f0(f3,f7.replace(/ {3,}/g,f1),f4,f2,f6,f5)}}function V(f1,f0){return function(f8,ga,f2,f6,gb,f9){f2=f2?f2+" cm-force-border":"cm-force-border";var f3=f8.pos,f5=f3+ga.length;for(;;){for(var f7=0;f7<f0.length;f7++){var f4=f0[f7];if(f4.to>f3&&f4.from<=f3){break}}if(f4.to>=f5){return f1(f8,ga,f2,f6,gb,f9)}f1(f8,ga.slice(0,f4.to-f3),f2,f6,null,f9);f6=null;ga=ga.slice(f4.to-f3);f3=f4.to}}}function ab(f1,f3,f0,f2){var f4=!f2&&f0.widgetNode;if(f4){f1.map.push(f1.pos,f1.pos+f3,f4);f1.content.appendChild(f4)}f1.pos+=f3}function bm(f9,gf,f8){var f5=f9.markedSpans,f7=f9.text,gd=0;if(!f5){for(var gi=1;gi<f8.length;gi+=2){gf.addToken(gf,f7.slice(gd,gd=f8[gi]),eJ(f8[gi+1],gf.cm.options))}return}var gj=f7.length,f4=0,gi=1,gb="",gk;var gm=0,f0,gl,gc,gn,f2;for(;;){if(gm==f4){f0=gl=gc=gn="";f2=null;gm=Infinity;var f6=[];for(var gg=0;gg<f5.length;++gg){var gh=f5[gg],ge=gh.marker;if(gh.from<=f4&&(gh.to==null||gh.to>f4)){if(gh.to!=null&&gm>gh.to){gm=gh.to;gl=""}if(ge.className){f0+=" "+ge.className}if(ge.startStyle&&gh.from==f4){gc+=" "+ge.startStyle}if(ge.endStyle&&gh.to==gm){gl+=" "+ge.endStyle}if(ge.title&&!gn){gn=ge.title}if(ge.collapsed&&(!f2||dD(f2.marker,ge)<0)){f2=gh}}else{if(gh.from>f4&&gm>gh.from){gm=gh.from}}if(ge.type=="bookmark"&&gh.from==f4&&ge.widgetNode){f6.push(ge)}}if(f2&&(f2.from||0)==f4){ab(gf,(f2.to==null?gj+1:f2.to)-f4,f2.marker,f2.from==null);if(f2.to==null){return}}if(!f2&&f6.length){for(var gg=0;gg<f6.length;++gg){ab(gf,0,f6[gg])}}}if(f4>=gj){break}var ga=Math.min(gj,gm);while(true){if(gb){var f1=f4+gb.length;if(!f2){var f3=f1>ga?gb.slice(0,ga-f4):gb;gf.addToken(gf,f3,gk?gk+f0:f0,gc,f4+f3.length==gm?gl:"",gn)}if(f1>=ga){gb=gb.slice(ga-f4);f4=ga;break}f4=f1;gc=""}gb=f7.slice(gd,gd=f8[gi++]);gk=eJ(f8[gi++],gf.cm.options)}}}function dF(f0,f1){return f1.from.ch==0&&f1.to.ch==0&&fu(f1.text)==""&&(!f0.cm||f0.cm.options.wholeLineUpdateBefore)}function fl(gd,f8,f0,f4){function ge(gg){return f0?f0[gg]:null}function f1(gg,gi,gh){d9(gg,gi,gh,f4);ad(gg,"change",gg,f8)}var gb=f8.from,gc=f8.to,gf=f8.text;var f9=e1(gd,gb.line),ga=e1(gd,gc.line);var f7=fu(gf),f3=ge(gf.length-1),f6=gc.line-gb.line;if(dF(gd,f8)){for(var f2=0,f5=[];f2<gf.length-1;++f2){f5.push(new fP(gf[f2],ge(f2),f4))}f1(ga,ga.text,f3);if(f6){gd.remove(gb.line,f6)}if(f5.length){gd.insert(gb.line,f5)}}else{if(f9==ga){if(gf.length==1){f1(f9,f9.text.slice(0,gb.ch)+f7+f9.text.slice(gc.ch),f3)}else{for(var f5=[],f2=1;f2<gf.length-1;++f2){f5.push(new fP(gf[f2],ge(f2),f4))}f5.push(new fP(f7+f9.text.slice(gc.ch),f3,f4));f1(f9,f9.text.slice(0,gb.ch)+gf[0],ge(0));gd.insert(gb.line+1,f5)}}else{if(gf.length==1){f1(f9,f9.text.slice(0,gb.ch)+gf[0]+ga.text.slice(gc.ch),ge(0));gd.remove(gb.line+1,f6)}else{f1(f9,f9.text.slice(0,gb.ch)+gf[0],ge(0));f1(ga,f7+ga.text.slice(gc.ch),f3);for(var f2=1,f5=[];f2<gf.length-1;++f2){f5.push(new fP(gf[f2],ge(f2),f4))}if(f6>1){gd.remove(gb.line+1,f6-1)}gd.insert(gb.line+1,f5)}}}ad(gd,"change",gd,f8)}function eM(f1){this.lines=f1;this.parent=null;for(var f2=0,f0=0;f2<f1.length;++f2){f1[f2].parent=this;f0+=f1[f2].height}this.height=f0}eM.prototype={chunkSize:function(){return this.lines.length},removeInner:function(f0,f4){for(var f2=f0,f3=f0+f4;f2<f3;++f2){var f1=this.lines[f2];this.height-=f1.height;bz(f1);ad(f1,"delete")}this.lines.splice(f0,f4)},collapse:function(f0){f0.push.apply(f0,this.lines)},insertInner:function(f1,f2,f0){this.height+=f0;this.lines=this.lines.slice(0,f1).concat(f2).concat(this.lines.slice(f1));for(var f3=0;f3<f2.length;++f3){f2[f3].parent=this}},iterN:function(f0,f3,f2){for(var f1=f0+f3;f0<f1;++f0){if(f2(this.lines[f0])){return true}}}};function fk(f3){this.children=f3;var f2=0,f0=0;for(var f1=0;f1<f3.length;++f1){var f4=f3[f1];f2+=f4.chunkSize();f0+=f4.height;f4.parent=this}this.size=f2;this.height=f0;this.parent=null}fk.prototype={chunkSize:function(){return this.size},removeInner:function(f0,f7){this.size-=f7;for(var f2=0;f2<this.children.length;++f2){var f6=this.children[f2],f4=f6.chunkSize();if(f0<f4){var f3=Math.min(f7,f4-f0),f5=f6.height;f6.removeInner(f0,f3);this.height-=f5-f6.height;if(f4==f3){this.children.splice(f2--,1);f6.parent=null}if((f7-=f3)==0){break}f0=0}else{f0-=f4}}if(this.size-f7<25&&(this.children.length>1||!(this.children[0] instanceof eM))){var f1=[];this.collapse(f1);this.children=[new eM(f1)];this.children[0].parent=this}},collapse:function(f0){for(var f1=0;f1<this.children.length;++f1){this.children[f1].collapse(f0)}},insertInner:function(f1,f2,f0){this.size+=f2.length;this.height+=f0;for(var f5=0;f5<this.children.length;++f5){var f7=this.children[f5],f6=f7.chunkSize();if(f1<=f6){f7.insertInner(f1,f2,f0);if(f7.lines&&f7.lines.length>50){while(f7.lines.length>50){var f4=f7.lines.splice(f7.lines.length-25,25);var f3=new eM(f4);f7.height-=f3.height;this.children.splice(f5+1,0,f3);f3.parent=this}this.maybeSpill()}break}f1-=f6}},maybeSpill:function(){if(this.children.length<=10){return}var f3=this;do{var f1=f3.children.splice(f3.children.length-5,5);var f2=new fk(f1);if(!f3.parent){var f4=new fk(f3.children);f4.parent=f3;f3.children=[f4,f2];f3=f4}else{f3.size-=f2.size;f3.height-=f2.height;var f0=db(f3.parent.children,f3);f3.parent.children.splice(f0+1,0,f2)}f2.parent=f3.parent}while(f3.children.length>10);f3.parent.maybeSpill()},iterN:function(f0,f6,f5){for(var f1=0;f1<this.children.length;++f1){var f4=this.children[f1],f3=f4.chunkSize();if(f0<f3){var f2=Math.min(f6,f3-f0);if(f4.iterN(f0,f2,f5)){return true}if((f6-=f2)==0){break}f0=0}else{f0-=f3}}}};var cp=0;var ar=J.Doc=function(f2,f1,f0){if(!(this instanceof ar)){return new ar(f2,f1,f0)}if(f0==null){f0=0}fk.call(this,[new eM([new fP("",null)])]);this.first=f0;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=f0;var f3=X(f0,0);this.sel=eF(f3);this.history=new fF(null);this.id=++cp;this.modeOption=f1;if(typeof f2=="string"){f2=aW(f2)}fl(this,{from:f3,to:f3,text:f2});bS(this,eF(f3),Z)};ar.prototype=cj(fk.prototype,{constructor:ar,iter:function(f2,f1,f0){if(f0){this.iterN(f2-this.first,f1-f2,f0)}else{this.iterN(this.first,this.first+this.size,f2)}},insert:function(f1,f2){var f0=0;for(var f3=0;f3<f2.length;++f3){f0+=f2[f3].height}this.insertInner(f1-this.first,f2,f0)},remove:function(f0,f1){this.removeInner(f0-this.first,f1)},getValue:function(f1){var f0=aY(this,this.first,this.first+this.size);if(f1===false){return f0}return f0.join(f1||"\n")},setValue:cA(function(f1){var f2=X(this.first,0),f0=this.first+this.size-1;bb(this,{from:f2,to:X(f0,e1(this,f0).text.length),text:aW(f1),origin:"setValue"},true);bS(this,eF(f2))}),replaceRange:function(f1,f3,f2,f0){f3=fw(this,f3);f2=f2?fw(this,f2):f3;aX(this,f1,f3,f2,f0)},getRange:function(f3,f2,f1){var f0=fL(this,fw(this,f3),fw(this,f2));if(f1===false){return f0}return f0.join(f1||"\n")},getLine:function(f1){var f0=this.getLineHandle(f1);return f0&&f0.text},getLineHandle:function(f0){if(b7(this,f0)){return e1(this,f0)}},getLineNumber:function(f0){return bL(f0)},getLineHandleVisualStart:function(f0){if(typeof f0=="number"){f0=e1(this,f0)}return z(f0)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(f0){return fw(this,f0)},getCursor:function(f2){var f0=this.sel.primary(),f1;if(f2==null||f2=="head"){f1=f0.head}else{if(f2=="anchor"){f1=f0.anchor}else{if(f2=="end"||f2=="to"||f2===false){f1=f0.to()}else{f1=f0.from()}}}return f1},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:cA(function(f0,f2,f1){H(this,fw(this,typeof f0=="number"?X(f0,f2||0):f0),null,f1)}),setSelection:cA(function(f1,f2,f0){H(this,fw(this,f1),fw(this,f2||f1),f0)}),extendSelection:cA(function(f2,f0,f1){fG(this,fw(this,f2),f0&&fw(this,f0),f1)}),extendSelections:cA(function(f1,f0){aw(this,dM(this,f1,f0))}),extendSelectionsBy:cA(function(f1,f0){aw(this,bQ(this.sel.ranges,f1),f0)}),setSelections:cA(function(f0,f4,f2){if(!f0.length){return}for(var f3=0,f1=[];f3<f0.length;f3++){f1[f3]=new dL(fw(this,f0[f3].anchor),fw(this,f0[f3].head))}if(f4==null){f4=Math.min(f0.length-1,this.sel.primIndex)}bS(this,cu(f1,f4),f2)}),addSelection:cA(function(f2,f3,f1){var f0=this.sel.ranges.slice(0);f0.push(new dL(fw(this,f2),fw(this,f3||f2)));bS(this,cu(f0,f0.length-1),f1)}),getSelection:function(f4){var f1=this.sel.ranges,f0;for(var f2=0;f2<f1.length;f2++){var f3=fL(this,f1[f2].from(),f1[f2].to());f0=f0?f0.concat(f3):f3}if(f4===false){return f0}else{return f0.join(f4||"\n")}},getSelections:function(f4){var f3=[],f0=this.sel.ranges;for(var f1=0;f1<f0.length;f1++){var f2=fL(this,f0[f1].from(),f0[f1].to());if(f4!==false){f2=f2.join(f4||"\n")}f3[f1]=f2}return f3},replaceSelection:function(f2,f4,f0){var f3=[];for(var f1=0;f1<this.sel.ranges.length;f1++){f3[f1]=f2}this.replaceSelections(f3,f4,f0||"+input")},replaceSelections:cA(function(f5,f7,f2){var f4=[],f6=this.sel;for(var f3=0;f3<f6.ranges.length;f3++){var f1=f6.ranges[f3];f4[f3]={from:f1.from(),to:f1.to(),text:aW(f5[f3]),origin:f2}}var f0=f7&&f7!="end"&&ae(this,f4,f7);for(var f3=f4.length-1;f3>=0;f3--){bb(this,f4[f3])}if(f0){eT(this,f0)}else{if(this.cm){ft(this.cm)}}}),undo:cA(function(){b6(this,"undo")}),redo:cA(function(){b6(this,"redo")}),undoSelection:cA(function(){b6(this,"undo",true)}),redoSelection:cA(function(){b6(this,"redo",true)}),setExtending:function(f0){this.extend=f0},getExtending:function(){return this.extend},historySize:function(){var f3=this.history,f0=0,f2=0;for(var f1=0;f1<f3.done.length;f1++){if(!f3.done[f1].ranges){++f0}}for(var f1=0;f1<f3.undone.length;f1++){if(!f3.undone[f1].ranges){++f2}}return{undo:f0,redo:f2}},clearHistory:function(){this.history=new fF(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(f0){if(f0){this.history.lastOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(f0){return this.history.generation==(f0||this.cleanGeneration)},getHistory:function(){return{done:bN(this.history.done),undone:bN(this.history.undone)}},setHistory:function(f1){var f0=this.history=new fF(this.history.maxGeneration);f0.done=bN(f1.done.slice(0),null,true);f0.undone=bN(f1.undone.slice(0),null,true)},addLineClass:cA(function(f2,f1,f0){return el(this,f2,"class",function(f3){var f4=f1=="text"?"textClass":f1=="background"?"bgClass":"wrapClass";if(!f3[f4]){f3[f4]=f0}else{if(new RegExp("(?:^|\\s)"+f0+"(?:$|\\s)").test(f3[f4])){return false}else{f3[f4]+=" "+f0}}return true})}),removeLineClass:cA(function(f2,f1,f0){return el(this,f2,"class",function(f4){var f7=f1=="text"?"textClass":f1=="background"?"bgClass":"wrapClass";var f6=f4[f7];if(!f6){return false}else{if(f0==null){f4[f7]=null}else{var f5=f6.match(new RegExp("(?:^|\\s+)"+f0+"(?:$|\\s+)"));if(!f5){return false}var f3=f5.index+f5[0].length;f4[f7]=f6.slice(0,f5.index)+(!f5.index||f3==f6.length?"":" ")+f6.slice(f3)||null}}return true})}),markText:function(f2,f1,f0){return es(this,fw(this,f2),fw(this,f1),f0,"range")},setBookmark:function(f2,f0){var f1={replacedWith:f0&&(f0.nodeType==null?f0.widget:f0),insertLeft:f0&&f0.insertLeft,clearWhenEmpty:false,shared:f0&&f0.shared};f2=fw(this,f2);return es(this,f2,f2,f1,"bookmark")},findMarksAt:function(f4){f4=fw(this,f4);var f3=[],f1=e1(this,f4.line).markedSpans;if(f1){for(var f0=0;f0<f1.length;++f0){var f2=f1[f0];if((f2.from==null||f2.from<=f4.ch)&&(f2.to==null||f2.to>=f4.ch)){f3.push(f2.marker.parent||f2.marker)}}}return f3},findMarks:function(f4,f3,f0){f4=fw(this,f4);f3=fw(this,f3);var f1=[],f2=f4.line;this.iter(f4.line,f3.line+1,function(f5){var f7=f5.markedSpans;if(f7){for(var f6=0;f6<f7.length;f6++){var f8=f7[f6];if(!(f2==f4.line&&f4.ch>f8.to||f8.from==null&&f2!=f4.line||f2==f3.line&&f8.from>f3.ch)&&(!f0||f0(f8.marker))){f1.push(f8.marker.parent||f8.marker)}}}++f2});return f1},getAllMarks:function(){var f0=[];this.iter(function(f2){var f1=f2.markedSpans;if(f1){for(var f3=0;f3<f1.length;++f3){if(f1[f3].from!=null){f0.push(f1[f3].marker)}}}});return f0},posFromIndex:function(f1){var f0,f2=this.first;this.iter(function(f3){var f4=f3.text.length+1;if(f4>f1){f0=f1;return true}f1-=f4;++f2});return fw(this,X(f2,f0))},indexFromPos:function(f1){f1=fw(this,f1);var f0=f1.ch;if(f1.line<this.first||f1.ch<0){return 0}this.iter(this.first,f1.line,function(f2){f0+=f2.text.length+1});return f0},copy:function(f0){var f1=new ar(aY(this,this.first,this.first+this.size),this.modeOption,this.first);f1.scrollTop=this.scrollTop;f1.scrollLeft=this.scrollLeft;f1.sel=this.sel;f1.extend=false;if(f0){f1.history.undoDepth=this.history.undoDepth;f1.setHistory(this.getHistory())}return f1},linkedDoc:function(f0){if(!f0){f0={}}var f3=this.first,f2=this.first+this.size;if(f0.from!=null&&f0.from>f3){f3=f0.from}if(f0.to!=null&&f0.to<f2){f2=f0.to}var f1=new ar(aY(this,f3,f2),f0.mode||this.modeOption,f3);if(f0.sharedHist){f1.history=this.history}(this.linked||(this.linked=[])).push({doc:f1,sharedHist:f0.sharedHist});f1.linked=[{doc:this,isParent:true,sharedHist:f0.sharedHist}];dv(f1,eC(this));return f1},unlinkDoc:function(f1){if(f1 instanceof J){f1=f1.doc}if(this.linked){for(var f2=0;f2<this.linked.length;++f2){var f3=this.linked[f2];if(f3.doc!=f1){continue}this.linked.splice(f2,1);f1.unlinkDoc(this);ea(eC(this));break}}if(f1.history==this.history){var f0=[f1.id];dU(f1,function(f4){f0.push(f4.id)},true);f1.history=new fF(null);f1.history.done=bN(this.history.done,f0);f1.history.undone=bN(this.history.undone,f0)}},iterLinkedDocs:function(f0){dU(this,f0)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});ar.prototype.eachLine=ar.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var bI in ar.prototype){if(ar.prototype.hasOwnProperty(bI)&&db(d,bI)<0){J.prototype[bI]=(function(f0){return function(){return f0.apply(this.doc,arguments)}})(ar.prototype[bI])}}bw(ar);function dU(f3,f2,f1){function f0(f9,f7,f5){if(f9.linked){for(var f6=0;f6<f9.linked.length;++f6){var f4=f9.linked[f6];if(f4.doc==f7){continue}var f8=f5&&f4.sharedHist;if(f1&&!f8){continue}f2(f4.doc,f8);f0(f4.doc,f9,f8)}}}f0(f3,null,true)}function dX(f0,f1){if(f1.cm){throw new Error("This document is already in use.")}f0.doc=f1;f1.cm=f0;Y(f0);bp(f0);if(!f0.options.lineWrapping){g(f0)}f0.options.mode=f1.modeOption;ag(f0)}function e1(f3,f5){f5-=f3.first;if(f5<0||f5>=f3.size){throw new Error("There is no line "+(f5+f3.first)+" in the document.")}for(var f0=f3;!f0.lines;){for(var f1=0;;++f1){var f4=f0.children[f1],f2=f4.chunkSize();if(f5<f2){f0=f4;break}f5-=f2}}return f0.lines[f5]}function fL(f2,f4,f0){var f1=[],f3=f4.line;f2.iter(f4.line,f0.line+1,function(f5){var f6=f5.text;if(f3==f0.line){f6=f6.slice(0,f0.ch)}if(f3==f4.line){f6=f6.slice(f4.ch)}f1.push(f6);++f3});return f1}function aY(f1,f3,f2){var f0=[];f1.iter(f3,f2,function(f4){f0.push(f4.text)});return f0}function fN(f1,f0){var f2=f0-f1.height;if(f2){for(var f3=f1;f3;f3=f3.parent){f3.height+=f2}}}function bL(f0){if(f0.parent==null){return null}var f4=f0.parent,f3=db(f4.lines,f0);for(var f1=f4.parent;f1;f4=f1,f1=f1.parent){for(var f2=0;;++f2){if(f1.children[f2]==f4){break}f3+=f1.children[f2].chunkSize()}}return f3+f4.first}function bE(f2,f5){var f7=f2.first;outer:do{for(var f3=0;f3<f2.children.length;++f3){var f6=f2.children[f3],f4=f6.height;if(f5<f4){f2=f6;continue outer}f5-=f4;f7+=f6.chunkSize()}return f7}while(!f2.lines);for(var f3=0;f3<f2.lines.length;++f3){var f1=f2.lines[f3],f0=f1.height;if(f5<f0){break}f5-=f0}return f7+f3}function bK(f2){f2=z(f2);var f4=0,f1=f2.parent;for(var f3=0;f3<f1.lines.length;++f3){var f0=f1.lines[f3];if(f0==f2){break}else{f4+=f0.height}}for(var f5=f1.parent;f5;f1=f5,f5=f1.parent){for(var f3=0;f3<f5.children.length;++f3){var f6=f5.children[f3];if(f6==f1){break}else{f4+=f6.height}}}return f4}function a(f1){var f0=f1.order;if(f0==null){f0=f1.order=bc(f1.text)}return f0}function fF(f0){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=f0||1}function dk(f0,f2){var f1={from:ch(f2.from),to:cR(f2),text:fL(f0,f2.from,f2.to)};bW(f0,f1,f2.from.line,f2.to.line+1);dU(f0,function(f3){bW(f3,f1,f2.from.line,f2.to.line+1)},true);return f1}function fo(f1){while(f1.length){var f0=fu(f1);if(f0.ranges){f1.pop()}else{break}}}function ez(f1,f0){if(f0){fo(f1.done);return fu(f1.done)}else{if(f1.done.length&&!fu(f1.done).ranges){return fu(f1.done)}else{if(f1.done.length>1&&!f1.done[f1.done.length-2].ranges){f1.done.pop();return fu(f1.done)}}}}function fz(f6,f4,f0,f3){var f2=f6.history;f2.undone.length=0;var f1=+new Date,f7;if((f2.lastOp==f3||f2.lastOrigin==f4.origin&&f4.origin&&((f4.origin.charAt(0)=="+"&&f6.cm&&f2.lastModTime>f1-f6.cm.options.historyEventDelay)||f4.origin.charAt(0)=="*"))&&(f7=ez(f2,f2.lastOp==f3))){var f8=fu(f7.changes);if(cd(f4.from,f4.to)==0&&cd(f4.from,f8.to)==0){f8.to=cR(f4)}else{f7.changes.push(dk(f6,f4))}}else{var f5=fu(f2.done);if(!f5||!f5.ranges){cJ(f6.sel,f2.done)}f7={changes:[dk(f6,f4)],generation:f2.generation};f2.done.push(f7);while(f2.done.length>f2.undoDepth){f2.done.shift();if(!f2.done[0].ranges){f2.done.shift()}}}f2.done.push(f0);f2.generation=++f2.maxGeneration;f2.lastModTime=f2.lastSelTime=f1;f2.lastOp=f3;f2.lastOrigin=f2.lastSelOrigin=f4.origin;if(!f8){aC(f6,"historyAdded")}}function by(f4,f0,f2,f3){var f1=f0.charAt(0);return f1=="*"||f1=="+"&&f2.ranges.length==f3.ranges.length&&f2.somethingSelected()==f3.somethingSelected()&&new Date-f4.history.lastSelTime<=(f4.cm?f4.cm.options.historyEventDelay:500)}function fT(f5,f3,f0,f2){var f4=f5.history,f1=f2&&f2.origin;if(f0==f4.lastOp||(f1&&f4.lastSelOrigin==f1&&(f4.lastModTime==f4.lastSelTime&&f4.lastOrigin==f1||by(f5,f1,fu(f4.done),f3)))){f4.done[f4.done.length-1]=f3}else{cJ(f3,f4.done)}f4.lastSelTime=+new Date;f4.lastSelOrigin=f1;f4.lastOp=f0;if(f2&&f2.clearRedo!==false){fo(f4.undone)}}function cJ(f1,f0){var f2=fu(f0);if(!(f2&&f2.ranges&&f2.equals(f1))){f0.push(f1)}}function bW(f1,f5,f4,f3){var f0=f5["spans_"+f1.id],f2=0;f1.iter(Math.max(f1.first,f4),Math.min(f1.first+f1.size,f3),function(f6){if(f6.markedSpans){(f0||(f0=f5["spans_"+f1.id]={}))[f2]=f6.markedSpans}++f2})}function bh(f2){if(!f2){return null}for(var f1=0,f0;f1<f2.length;++f1){if(f2[f1].marker.explicitlyCleared){if(!f0){f0=f2.slice(0,f1)}}else{if(f0){f0.push(f2[f1])}}}return !f0?f2:f0.length?f0:null}function b2(f3,f4){var f2=f4["spans_"+f3.id];if(!f2){return null}for(var f1=0,f0=[];f1<f4.text.length;++f1){f0.push(bh(f2[f1]))}return f0}function bN(gb,f3,ga){for(var f6=0,f1=[];f6<gb.length;++f6){var f2=gb[f6];if(f2.ranges){f1.push(ga?fK.prototype.deepCopy.call(f2):f2);continue}var f8=f2.changes,f9=[];f1.push({changes:f9});for(var f5=0;f5<f8.length;++f5){var f7=f8[f5],f4;f9.push({from:f7.from,to:f7.to,text:f7.text});if(f3){for(var f0 in f7){if(f4=f0.match(/^spans_(\d+)$/)){if(db(f3,Number(f4[1]))>-1){fu(f9)[f0]=f7[f0];delete f7[f0]}}}}}}return f1}function K(f3,f2,f1,f0){if(f1<f3.line){f3.line+=f0}else{if(f2<f3.line){f3.line=f2;f3.ch=0}}}function e3(f3,f5,f6,f7){for(var f2=0;f2<f3.length;++f2){var f0=f3[f2],f4=true;if(f0.ranges){if(!f0.copied){f0=f3[f2]=f0.deepCopy();f0.copied=true}for(var f1=0;f1<f0.ranges.length;f1++){K(f0.ranges[f1].anchor,f5,f6,f7);K(f0.ranges[f1].head,f5,f6,f7)}continue}for(var f1=0;f1<f0.changes.length;++f1){var f8=f0.changes[f1];if(f6<f8.from.line){f8.from=X(f8.from.line+f7,f8.from.ch);f8.to=X(f8.to.line+f7,f8.to.ch)}else{if(f5<=f8.to.line){f4=false;break}}}if(!f4){f3.splice(0,f2+1);f2=0}}}function du(f1,f4){var f3=f4.from.line,f2=f4.to.line,f0=f4.text.length-(f2-f3)-1;e3(f1.done,f3,f2,f0);e3(f1.undone,f3,f2,f0)}var cC=J.e_preventDefault=function(f0){if(f0.preventDefault){f0.preventDefault()}else{f0.returnValue=false}};var dg=J.e_stopPropagation=function(f0){if(f0.stopPropagation){f0.stopPropagation()}else{f0.cancelBubble=true}};function bJ(f0){return f0.defaultPrevented!=null?f0.defaultPrevented:f0.returnValue==false}var ed=J.e_stop=function(f0){cC(f0);dg(f0)};function M(f0){return f0.target||f0.srcElement}function fA(f1){var f0=f1.which;if(f0==null){if(f1.button&1){f0=1}else{if(f1.button&2){f0=3}else{if(f1.button&4){f0=2}}}}if(b5&&f1.ctrlKey&&f0==1){f0=3}return f0}var bV=J.on=function(f3,f1,f2){if(f3.addEventListener){f3.addEventListener(f1,f2,false)}else{if(f3.attachEvent){f3.attachEvent("on"+f1,f2)}else{var f4=f3._handlers||(f3._handlers={});var f0=f4[f1]||(f4[f1]=[]);f0.push(f2)}}};var dZ=J.off=function(f4,f2,f3){if(f4.removeEventListener){f4.removeEventListener(f2,f3,false)}else{if(f4.detachEvent){f4.detachEvent("on"+f2,f3)}else{var f0=f4._handlers&&f4._handlers[f2];if(!f0){return}for(var f1=0;f1<f0.length;++f1){if(f0[f1]==f3){f0.splice(f1,1);break}}}}};var aC=J.signal=function(f4,f3){var f0=f4._handlers&&f4._handlers[f3];if(!f0){return}var f1=Array.prototype.slice.call(arguments,2);for(var f2=0;f2<f0.length;++f2){f0[f2].apply(null,f1)}};var bx=null;function ad(f6,f4){var f0=f6._handlers&&f6._handlers[f4];if(!f0){return}var f2=Array.prototype.slice.call(arguments,2),f5;if(bn){f5=bn.delayedCallbacks}else{if(bx){f5=bx}else{f5=bx=[];setTimeout(aJ,0)}}function f1(f7){return function(){f7.apply(null,f2)}}for(var f3=0;f3<f0.length;++f3){f5.push(f1(f0[f3]))}}function aJ(){var f0=bx;bx=null;for(var f1=0;f1<f0.length;++f1){f0[f1]()}}function aO(f0,f2,f1){aC(f0,f1||f2.type,f0,f2);return bJ(f2)||f2.codemirrorIgnore}function W(f1){var f0=f1._handlers&&f1._handlers.cursorActivity;if(!f0){return}var f3=f1.curOp.cursorActivityHandlers||(f1.curOp.cursorActivityHandlers=[]);for(var f2=0;f2<f0.length;++f2){if(db(f3,f0[f2])==-1){f3.push(f0[f2])}}}function e4(f2,f1){var f0=f2._handlers&&f2._handlers[f1];return f0&&f0.length>0}function bw(f0){f0.prototype.on=function(f1,f2){bV(this,f1,f2)};f0.prototype.off=function(f1,f2){dZ(this,f1,f2)}}var bg=30;var b8=J.Pass={toString:function(){return"CodeMirror.Pass"}};var Z={scroll:false},N={origin:"*mouse"},cQ={origin:"+move"};function fZ(){this.id=null}fZ.prototype.set=function(f0,f1){clearTimeout(this.id);this.id=setTimeout(f1,f0)};var bR=J.countColumn=function(f3,f1,f5,f6,f2){if(f1==null){f1=f3.search(/[^\s\u00a0]/);if(f1==-1){f1=f3.length}}for(var f4=f6||0,f7=f2||0;;){var f0=f3.indexOf("\t",f4);if(f0<0||f0>=f1){return f7+(f1-f4)}f7+=f0-f4;f7+=f5-(f7%f5);f4=f0+1}};function ec(f4,f3,f5){for(var f6=0,f2=0;;){var f1=f4.indexOf("\t",f6);if(f1==-1){f1=f4.length}var f0=f1-f6;if(f1==f4.length||f2+f0>=f3){return f6+Math.min(f0,f3-f2)}f2+=f1-f6;f2+=f5-(f2%f5);f6=f1+1;if(f2>=f3){return f6}}}var aV=[""];function co(f0){while(aV.length<=f0){aV.push(fu(aV)+" ")}return aV[f0]}function fu(f0){return f0[f0.length-1]}var dz=function(f0){f0.select()};if(eO){dz=function(f0){f0.selectionStart=0;f0.selectionEnd=f0.value.length}}else{if(dy){dz=function(f1){try{f1.select()}catch(f0){}}}}function db(f2,f0){for(var f1=0;f1<f2.length;++f1){if(f2[f1]==f0){return f1}}return -1}if([].indexOf){db=function(f1,f0){return f1.indexOf(f0)}}function bQ(f3,f2){var f0=[];for(var f1=0;f1<f3.length;f1++){f0[f1]=f2(f3[f1],f1)}return f0}if([].map){bQ=function(f1,f0){return f1.map(f0)}}function cj(f3,f0){var f2;if(Object.create){f2=Object.create(f3)}else{var f1=function(){};f1.prototype=f3;f2=new f1()}if(f0){aK(f0,f2)}return f2}function aK(f2,f1,f0){if(!f1){f1={}}for(var f3 in f2){if(f2.hasOwnProperty(f3)&&(f0!==false||!f1.hasOwnProperty(f3))){f1[f3]=f2[f3]}}return f1}function ct(f1){var f0=Array.prototype.slice.call(arguments,1);return function(){return f1.apply(null,f0)}}var a8=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var fq=J.isWordChar=function(f0){return/\w/.test(f0)||f0>"\x80"&&(f0.toUpperCase()!=f0.toLowerCase()||a8.test(f0))};function cx(f0,f1){if(!f1){return fq(f0)}if(f1.source.indexOf("\\w")>-1&&fq(f0)){return true}return f1.test(f0)}function eH(f0){for(var f1 in f0){if(f0.hasOwnProperty(f1)&&f0[f1]){return false}}return true}var ew=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function fc(f0){return f0.charCodeAt(0)>=768&&ew.test(f0)}function fJ(f0,f4,f3,f2){var f5=document.createElement(f0);if(f3){f5.className=f3}if(f2){f5.style.cssText=f2}if(typeof f4=="string"){f5.appendChild(document.createTextNode(f4))}else{if(f4){for(var f1=0;f1<f4.length;++f1){f5.appendChild(f4[f1])}}}return f5}var ck;if(document.createRange){ck=function(f2,f3,f0){var f1=document.createRange();f1.setEnd(f2,f0);f1.setStart(f2,f3);return f1}}else{ck=function(f2,f3,f0){var f1=document.body.createTextRange();f1.moveToElementText(f2.parentNode);f1.collapse(true);f1.moveEnd("character",f0);f1.moveStart("character",f3);return f1}}function dO(f1){for(var f0=f1.childNodes.length;f0>0;--f0){f1.removeChild(f1.firstChild)}return f1}function bP(f0,f1){return dO(f0).appendChild(f1)}function fS(f0,f1){if(f0.contains){return f0.contains(f1)}while(f1=f1.parentNode){if(f1==f0){return true}}}function dB(){return document.activeElement}if(dy&&l<11){dB=function(){try{return document.activeElement}catch(f0){return document.body}}}function T(f0){return new RegExp("\\b"+f0+"\\b\\s*")}function f(f1,f0){var f2=T(f0);if(f2.test(f1.className)){f1.className=f1.className.replace(f2,"")}}function fn(f1,f0){if(!T(f0).test(f1.className)){f1.className+=" "+f0}}function fE(f2,f0){var f1=f2.split(" ");for(var f3=0;f3<f1.length;f3++){if(f1[f3]&&!T(f1[f3]).test(f0)){f0+=" "+f1[f3]}}return f0}function az(f3){if(!document.body.getElementsByClassName){return}var f2=document.body.getElementsByClassName("CodeMirror");for(var f1=0;f1<f2.length;f1++){var f0=f2[f1].CodeMirror;if(f0){f3(f0)}}}var cz=false;function be(){if(cz){return}fr();cz=true}function fr(){var f0;bV(window,"resize",function(){if(f0==null){f0=setTimeout(function(){f0=null;ei=null;az(aQ)},100)}});bV(window,"blur",function(){az(aR)})}var ey=function(){if(dy&&l<9){return false}var f0=fJ("div");return"draggable" in f0||"dragDrop" in f0}();var ei;function k(f0){if(ei!=null){return ei}var f1=fJ("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");bP(f0,f1);if(f1.offsetWidth){ei=f1.offsetHeight-f1.clientHeight}return ei||0}var fy;function bl(f0){if(fy==null){var f1=fJ("span","\u200b");bP(f0,fJ("span",[f1,document.createTextNode("x")]));if(f0.firstChild.offsetHeight!=0){fy=f1.offsetWidth<=1&&f1.offsetHeight>2&&!(dy&&l<8)}}if(fy){return fJ("span","\u200b")}else{return fJ("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var fx;function bM(f3){if(fx!=null){return fx}var f0=bP(f3,document.createTextNode("A\u062eA"));var f2=ck(f0,0,1).getBoundingClientRect();if(f2.left==f2.right){return false}var f1=ck(f0,1,2).getBoundingClientRect();return fx=(f1.right-f2.right<3)}var aW=J.splitLines="\n\nb".split(/\n/).length!=3?function(f5){var f6=0,f0=[],f4=f5.length;while(f6<=f4){var f3=f5.indexOf("\n",f6);if(f3==-1){f3=f5.length}var f2=f5.slice(f6,f5.charAt(f3-1)=="\r"?f3-1:f3);var f1=f2.indexOf("\r");if(f1!=-1){f0.push(f2.slice(0,f1));f6+=f1+1}else{f0.push(f2);f6=f3+1}}return f0}:function(f0){return f0.split(/\r\n?|\n/)};var bq=window.getSelection?function(f1){try{return f1.selectionStart!=f1.selectionEnd}catch(f0){return false}}:function(f2){try{var f0=f2.ownerDocument.selection.createRange()}catch(f1){}if(!f0||f0.parentElement()!=f2){return false}return f0.compareEndPoints("StartToEnd",f0)!=0};var c4=(function(){var f0=fJ("div");if("oncopy" in f0){return true}f0.setAttribute("oncopy","return;");return typeof f0.oncopy=="function"})();var eS=null;function aI(f1){if(eS!=null){return eS}var f2=bP(f1,fJ("span","x"));var f3=f2.getBoundingClientRect();var f0=ck(f2,0,1).getBoundingClientRect();return eS=Math.abs(f3.left-f0.left)>1}var e2={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};J.keyNames=e2;(function(){for(var f0=0;f0<10;f0++){e2[f0+48]=e2[f0+96]=String(f0)}for(var f0=65;f0<=90;f0++){e2[f0]=String.fromCharCode(f0)}for(var f0=1;f0<=12;f0++){e2[f0+111]=e2[f0+63235]="F"+f0}})();function dR(f0,f6,f5,f4){if(!f0){return f4(f6,f5,"ltr")}var f3=false;for(var f2=0;f2<f0.length;++f2){var f1=f0[f2];if(f1.from<f5&&f1.to>f6||f6==f5&&f1.to==f6){f4(Math.max(f1.from,f6),Math.min(f1.to,f5),f1.level==1?"rtl":"ltr");f3=true}}if(!f3){f4(f6,f5,"ltr")}}function dn(f0){return f0.level%2?f0.to:f0.from}function fV(f0){return f0.level%2?f0.from:f0.to}function cB(f1){var f0=a(f1);return f0?dn(f0[0]):0}function cO(f1){var f0=a(f1);if(!f0){return f1.text.length}return fV(fu(f0))}function br(f1,f4){var f2=e1(f1.doc,f4);var f5=z(f2);if(f5!=f2){f4=bL(f5)}var f0=a(f5);var f3=!f0?0:f0[0].level%2?cO(f5):cB(f5);return X(f4,f3)}function dC(f2,f5){var f1,f3=e1(f2.doc,f5);while(f1=eh(f3)){f3=f1.find(1,true).line;f5=null}var f0=a(f3);var f4=!f0?f3.text.length:f0[0].level%2?cB(f3):cO(f3);return X(f5==null?bL(f3):f5,f4)}function al(f1,f2,f0){var f3=f1[0].level;if(f2==f3){return true}if(f0==f3){return false}return f2<f0}var eP;function aE(f0,f4){eP=null;for(var f1=0,f2;f1<f0.length;++f1){var f3=f0[f1];if(f3.from<f4&&f3.to>f4){return f1}if((f3.from==f4||f3.to==f4)){if(f2==null){f2=f1}else{if(al(f0,f3.level,f0[f2].level)){if(f3.from!=f3.to){eP=f2}return f1}else{if(f3.from!=f3.to){eP=f1}return f2}}}}return f2}function e0(f0,f3,f1,f2){if(!f2){return f3+f1}do{f3+=f1}while(f3>0&&fc(f0.text.charAt(f3)));return f3}function v(f0,f7,f2,f3){var f4=a(f0);if(!f4){return ah(f0,f7,f2,f3)}var f6=aE(f4,f7),f1=f4[f6];var f5=e0(f0,f7,f1.level%2?-f2:f2,f3);for(;;){if(f5>f1.from&&f5<f1.to){return f5}if(f5==f1.from||f5==f1.to){if(aE(f4,f5)==f6){return f5}f1=f4[f6+=f2];return(f2>0)==f1.level%2?f1.to:f1.from}else{f1=f4[f6+=f2];if(!f1){return null}if((f2>0)==f1.level%2){f5=e0(f0,f1.to,-1,f3)}else{f5=e0(f0,f1.from,1,f3)}}}}function ah(f0,f4,f1,f2){var f3=f4+f1;if(f2){while(f3>0&&fc(f0.text.charAt(f3))){f3+=f1}}return f3<0||f3>f0.text.length?null:f3}var bc=(function(){var f6="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var f4="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function f3(ga){if(ga<=247){return f6.charAt(ga)}else{if(1424<=ga&&ga<=1524){return"R"}else{if(1536<=ga&&ga<=1773){return f4.charAt(ga-1536)}else{if(1774<=ga&&ga<=2220){return"r"}else{if(8192<=ga&&ga<=8203){return"w"}else{if(ga==8204){return"b"}else{return"L"}}}}}}}var f0=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var f9=/[stwN]/,f2=/[LRr]/,f1=/[Lb1n]/,f5=/[1n]/;var f8="L";function f7(gc,gb,ga){this.level=gc;this.from=gb;this.to=ga}return function(gk){if(!f0.test(gk)){return false}var gq=gk.length,gg=[];for(var gp=0,gc;gp<gq;++gp){gg.push(gc=f3(gk.charCodeAt(gp)))}for(var gp=0,gj=f8;gp<gq;++gp){var gc=gg[gp];if(gc=="m"){gg[gp]=gj}else{gj=gc}}for(var gp=0,ga=f8;gp<gq;++gp){var gc=gg[gp];if(gc=="1"&&ga=="r"){gg[gp]="n"}else{if(f2.test(gc)){ga=gc;if(gc=="r"){gg[gp]="R"}}}}for(var gp=1,gj=gg[0];gp<gq-1;++gp){var gc=gg[gp];if(gc=="+"&&gj=="1"&&gg[gp+1]=="1"){gg[gp]="1"}else{if(gc==","&&gj==gg[gp+1]&&(gj=="1"||gj=="n")){gg[gp]=gj}}gj=gc}for(var gp=0;gp<gq;++gp){var gc=gg[gp];if(gc==","){gg[gp]="N"}else{if(gc=="%"){for(var gd=gp+1;gd<gq&&gg[gd]=="%";++gd){}var gr=(gp&&gg[gp-1]=="!")||(gd<gq&&gg[gd]=="1")?"1":"N";for(var gn=gp;gn<gd;++gn){gg[gn]=gr}gp=gd-1}}}for(var gp=0,ga=f8;gp<gq;++gp){var gc=gg[gp];if(ga=="L"&&gc=="1"){gg[gp]="L"}else{if(f2.test(gc)){ga=gc}}}for(var gp=0;gp<gq;++gp){if(f9.test(gg[gp])){for(var gd=gp+1;gd<gq&&f9.test(gg[gd]);++gd){}var gh=(gp?gg[gp-1]:f8)=="L";var gb=(gd<gq?gg[gd]:f8)=="L";var gr=gh||gb?"L":"R";for(var gn=gp;gn<gd;++gn){gg[gn]=gr}gp=gd-1}}var go=[],gl;for(var gp=0;gp<gq;){if(f1.test(gg[gp])){var ge=gp;for(++gp;gp<gq&&f1.test(gg[gp]);++gp){}go.push(new f7(0,ge,gp))}else{var gf=gp,gi=go.length;for(++gp;gp<gq&&gg[gp]!="L";++gp){}for(var gn=gf;gn<gp;){if(f5.test(gg[gn])){if(gf<gn){go.splice(gi,0,new f7(1,gf,gn))}var gm=gn;for(++gn;gn<gp&&f5.test(gg[gn]);++gn){}go.splice(gi,0,new f7(2,gm,gn));gf=gn}else{++gn}}if(gf<gp){go.splice(gi,0,new f7(1,gf,gp))}}}if(go[0].level==1&&(gl=gk.match(/^\s+/))){go[0].from=gl[0].length;go.unshift(new f7(0,0,gl[0].length))}if(fu(go).level==1&&(gl=gk.match(/\s+$/))){fu(go).to-=gl[0].length;go.push(new f7(0,gq-gl[0].length,gq))}if(go[0].level!=fu(go).level){go.push(new f7(go[0].level,gq,gq))}return go}})();J.version="4.4.0";return J});